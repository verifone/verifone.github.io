<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Developer SDK: src/main/java/com/verifone/peripherals/Scanner.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxygen.css" rel="stylesheet" type="text/css"/>
<link href="custom_navtree.css" rel="stylesheet" type="text/css"/>
<link href="custom_search.css" rel="stylesheet" type="text/css"/>
<link href="custom_tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <img alt="Logo" width="100%" src="logo_v1.png"/>
    <div id="projectname">
      Developer SDK
    </div>
    <div id="projectbrief">Version 1.9.632.913d652c-152450467.</div>
  </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_scanner_8java_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Scanner.java</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">package </span>com.verifone.peripherals;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> android.app.Activity;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">import</span> android.app.Fragment;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> android.content.BroadcastReceiver;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">import</span> android.content.Context;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">import</span> android.content.Intent;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">import</span> android.content.IntentFilter;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">import</span> android.graphics.Rect;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">import</span> android.hardware.Camera;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> android.os.Parcel;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">import</span> android.os.RemoteException;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> android.util.DisplayMetrics;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> android.util.Log;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> android.view.Gravity;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">import</span> java.util.HashMap;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> java.util.List;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * The logical representation of the physical scanner.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">   24</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a> <span class="keyword">extends</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html">Peripheral</a> {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> String TAG = <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.class.getSimpleName();</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">     * The peripheral type used in {@link Peripheral#getPeripheralType()} getType()} and</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#af8e9d0f4f3ada5f6a27920834cb621e0">   30</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#af8e9d0f4f3ada5f6a27920834cb621e0">PERIPHERAL_TYPE</a> = <span class="stringliteral">&quot;SCANNER&quot;</span>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">     * An external scanner that is waiting to be activated, but is connected. This only applies to</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">     * scanners that have a suspend/sleep mode, and is specific to the scanner hardware.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae52759d08b15a9eed61991412d768344">   36</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae52759d08b15a9eed61991412d768344">STATUS_SUSPENDED</a> = <span class="stringliteral">&quot;com.verifone.peripherals.STATUS_SUSPENDED&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">     * The scanner is looking for barcodes. As an example, in the case of the built-in camera, the</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">     * camera is actively scanning the view area.</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa6c50b1b20df92bd67964ab2f317bab">   41</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa6c50b1b20df92bd67964ab2f317bab">STATUS_SCANNING</a> = <span class="stringliteral">&quot;com.verifone.peripherals.STATUS_SCANNING&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">     * The scanner has found a barcode, and will include the relevant mAttributes. This status is</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">     * never returned from getStatus, but can only be received by a listener.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#accd1d6a0af404986b8f5151c4ef2dc06">   46</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#accd1d6a0af404986b8f5151c4ef2dc06">STATUS_BARCODE_DETECTED</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="stringliteral">&quot;.STATUS_BARCODE_DETECTED&quot;</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">     * Returns the barcode data as a String for a STATUS_BARCODE_DETECTED event.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a909cd8a9da5210f6f6e23394e39c0bf3">   52</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a909cd8a9da5210f6f6e23394e39c0bf3">ATTRIBUTE_BARCODE</a> = <span class="stringliteral">&quot;com.verifone.peripherals.ATTRIBUTE_BARCODE&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">     * Returns the detected barcode format as an Integer for a STATUS_BARCODE_DETECTED event.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aac34db44b3d14281c6f45db3359cf2fa">   56</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aac34db44b3d14281c6f45db3359cf2fa">ATTRIBUTE_BARCODE_FORMAT</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_BARCODE_FORMAT&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">     * Use this attribute to enable/disable continuous scanning by setting it to a Boolean value</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">     * .</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a873ff8ea7d148b18433f0fbacc473482">   62</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a873ff8ea7d148b18433f0fbacc473482">ATTRIBUTE_CONTINUOUS_SCAN</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_CONTINUOUS_SCAN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * Use this attribute to pass an Activity or Fragment which will contain the view from the</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     * scanner.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a80677a7568a616f9bb2db927bd2f9f4e">   68</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a80677a7568a616f9bb2db927bd2f9f4e">ATTRIBUTE_DISPLAY_FEED_PARENT</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_DISPLAY_FEED_PARENT&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * Use this attribute to pass a Rect object to limit the scanning area to a specific region.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a740a1274b6af755fe89bae30f88ac0b2">   73</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a740a1274b6af755fe89bae30f88ac0b2">ATTRIBUTE_SCAN_AREA_LIMIT</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_SCAN_AREA_LIMIT&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * Use this attribute to enable/disable playing a sound when a barcode is scanned by setting it</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     * to a Boolean value.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac7afee06c2dcdcfc8f46f834b20b893b">   79</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac7afee06c2dcdcfc8f46f834b20b893b">ATTRIBUTE_PLAY_SOUND</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_PLAY_SOUND&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     * Use this attribute to set the direction of the scanner, and receive the direction of the</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     * scanner for a STATUS_BARCODE_DETECTED event. When using for the camera, this is an Integer</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     * with the following values: 1 - Rear facing, no option to change. 2 - Rear facing, but the</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">     * user can change direction. 3 - Forward facing, no option to change. 4 - Forward facing, but</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     * the user can change direction.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a8486088995e470db898e669d9d51dd0a">   88</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a8486088995e470db898e669d9d51dd0a">ATTRIBUTE_SET_DIRECTION</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_SET_DIRECTION&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">     * Use this attribute to enable/disable a light by setting it to a Boolean value.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aad83a5e80638981ba1bfc89fd0d57be7">   93</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aad83a5e80638981ba1bfc89fd0d57be7">ATTRIBUTE_ACTIVATE_LIGHT</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_ACTIVATE_LIGHT&quot;</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">     * The capability to continuously scan for barcodes and fire events for each barcode detected,</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">     * or only scan one barcode at a time.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aebf0e4445c95f47a7f3299c586c29adf">  100</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aebf0e4445c95f47a7f3299c586c29adf">CAPABILITY_CONTINUOUS_SCANNING</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="stringliteral">&quot;.CAPABILITY_CONTINUOUS_SCANNING&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">     * The capability to display in Android the view of the scanner. Generally only applicable to</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">     * the built-in camera.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5fcbabe0eb0051bdba2d026cc14d5e3">  106</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5fcbabe0eb0051bdba2d026cc14d5e3">CAPABILITY_DISPLAY_SCAN_FEED</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="stringliteral">&quot;.CAPABILITY_DISPLAY_SCAN_FEED&quot;</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">     * The capability to reduce the scan area to a smaller subset of valid ranges. Generally only</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">     * applicable to the built-in camera.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#acfc76f572ad63f8ef397cdc604bcca66">  114</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#acfc76f572ad63f8ef397cdc604bcca66">CAPABILITY_LIMIT_SCAN_AREA</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="stringliteral">&quot;.CAPABILITY_LIMIT_SCAN_AREA&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">     * The capability to set viewfinder&#39;s gravity.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ad35004c653853f06c08a51d4726d1750">  119</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ad35004c653853f06c08a51d4726d1750">ATTRIBUTE_VIEW_GRAVITY</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="stringliteral">&quot;.ATTRIBUTE_VIEW_GRAVITY&quot;</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     * The capability to play a sound or chime when a barcode is scanned.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a4683b4af46cddc82002a43ea41ce8d26">  125</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a4683b4af46cddc82002a43ea41ce8d26">CAPABILITY_PLAY_SCAN_SOUND</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="stringliteral">&quot;.CAPABILITY_PLAY_SCAN_SOUND&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * The capability to set the direction of the scanner. Generally only applicable to the built-in</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * camera to switch between rear and forward facing.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae4cb40e949cbaa17c06ca2fabf2d14d7">  131</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae4cb40e949cbaa17c06ca2fabf2d14d7">CAPABILITY_SET_SCAN_DIRECTION</a> = <span class="stringliteral">&quot;com.verifone.peripherals&quot;</span> +</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="stringliteral">&quot;.CAPABILITY_SET_SCAN_DIRECTION&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     * The capability to turn on a light for the scanning area. Generally only applicable to the</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     * built-in camera.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a76c25f26dbf9691926fe0214ecd9715f">  137</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a76c25f26dbf9691926fe0214ecd9715f">CAPABILITY_ACTIVATE_LIGHT</a> = <span class="stringliteral">&quot;com.verifone.peripherals.CAPABILITY_LIGHT&quot;</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String GRAVITY_EXTRA = <span class="stringliteral">&quot;gravity&quot;</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String BROADCAST_SCANNER_STATUS = <span class="stringliteral">&quot;ScannerStatus&quot;</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SINGLESCAN_EXTRA = <span class="stringliteral">&quot;SingleScan&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String XPOS_EXTRA = <span class="stringliteral">&quot;xpos&quot;</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String YPOS_EXTRA = <span class="stringliteral">&quot;ypos&quot;</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String WIDTH_EXTRA = <span class="stringliteral">&quot;width&quot;</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String HEIGHT_EXTRA = <span class="stringliteral">&quot;height&quot;</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String FACING_EXTRA = <span class="stringliteral">&quot;facing&quot;</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String LEDSTATE_EXTRA = <span class="stringliteral">&quot;ledState&quot;</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SWITCH_CAMERA_EXTRA = <span class="stringliteral">&quot;switchcamera&quot;</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String BEEP_EXTRA = <span class="stringliteral">&quot;beep&quot;</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// TODO: Remove these, this should not be generally broadcast.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String INTENT_SCANDATA = <span class="stringliteral">&quot;com.swordfish.scandata&quot;</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String INTENT_SCANSTATUS = <span class="stringliteral">&quot;com.swordfish.scanstatus&quot;</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String BARCODE_EXTRA = <span class="stringliteral">&quot;barcode&quot;</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String FORMAT_EXTRA = <span class="stringliteral">&quot;format&quot;</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TIME_EXTRA = <span class="stringliteral">&quot;time&quot;</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">int</span> FRONT_CAMERA = Camera.CameraInfo.CAMERA_FACING_FRONT;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">int</span> REAR_CAMERA = Camera.CameraInfo.CAMERA_FACING_BACK;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">int</span> CAMERA_NOT_SET = -1;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SCANNER_NAME = <span class="stringliteral">&quot;Scanner&quot;</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">int</span> mId;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">private</span> HashMap&lt;String, Object&gt; mAttributes = null;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">private</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral_manager.html">PeripheralManager</a> mManager;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">private</span> String mStatus = <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a64290764776be683fac08aafc3051998">STATUS_DISCONNECTED</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Creator&lt;Scanner&gt; CREATOR = <span class="keyword">new</span> Creator&lt;Scanner&gt;() {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        @Override</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a> createFromParcel(Parcel in) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>(in);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        @Override</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>[] newArray(<span class="keywordtype">int</span> size) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>[size];</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    };</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// TODO: Replace this receiver with a proper listener method. This receiver leaks.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">//Scan  data change observer</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">private</span> <span class="keyword">final</span> BroadcastReceiver mBroadcastReceiver = <span class="keyword">new</span> BroadcastReceiver() {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        @Override</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> onReceive(Context context, Intent intent) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (INTENT_SCANDATA.equals(intent.getAction())) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                scanData(intent);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (INTENT_SCANSTATUS.equals(intent.getAction())) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;Update status&quot;</span>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                mStatus = intent.getStringExtra(BROADCAST_SCANNER_STATUS);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                broadcastStatusChange(mStatus, null);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    };</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        mId = id;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>(Parcel source) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        readFromParcel(source);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> readFromParcel(Parcel in) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        mId = in.readInt();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    @Override</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> describeContents() {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    @Override</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> writeToParcel(Parcel dest, <span class="keywordtype">int</span> flags) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        dest.writeInt(mId);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">     * API to initiate the scan</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">     * @param attributes A HashMap of the attributes listed above.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">     * @return The status of the scanner, generally STATUS_SCANNING or STATUS_READY, but can return</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">     * other statuses in case of an error or another problem.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5cf7cff797cddb75aef913dc1e6d4af">  222</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5cf7cff797cddb75aef913dc1e6d4af">initiateScan</a>(HashMap&lt;String, Object&gt; attributes) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// get scanner status</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        getUpdatedStatus();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (!mStatus.equals(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a4301616da35a68b4bf9ae03065acbac7">STATUS_READY</a>)) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            broadcastStatusChange(mStatus, null);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> mStatus;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot; initiateScan:&quot;</span> + mManager.mServiceBound);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        mAttributes = attributes;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        Object parent = attributes.get(ATTRIBUTE_DISPLAY_FEED_PARENT);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        Activity activity = null;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (parent instanceof Activity) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            activity = (Activity) parent;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parent instanceof Fragment) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            android.app.Fragment fragment = (android.app.Fragment) parent;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            activity = fragment.getActivity();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (activity == null) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        Rect rect = (Rect) attributes.get(ATTRIBUTE_SCAN_AREA_LIMIT);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (rect == null) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            DisplayMetrics metrics = activity.getResources().getDisplayMetrics();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordtype">int</span> width = metrics.widthPixels;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordtype">int</span> height = metrics.heightPixels;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            rect = <span class="keyword">new</span> Rect(0, 0, width / 2, height / 2);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordtype">int</span> gravity = Gravity.NO_GRAVITY;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (attributes.containsKey(ATTRIBUTE_VIEW_GRAVITY)) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            gravity = (int) attributes.get(ATTRIBUTE_VIEW_GRAVITY);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordtype">int</span> direction = 2;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> (attributes.containsKey(ATTRIBUTE_SET_DIRECTION)) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            direction = (int) attributes.get(ATTRIBUTE_SET_DIRECTION);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordtype">int</span> facing = FRONT_CAMERA;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (direction == 1 || direction == 2) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            facing = REAR_CAMERA;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">boolean</span> allowSwitchCamera = <span class="keyword">false</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (direction == 2 || direction == 4) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            allowSwitchCamera = <span class="keyword">true</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordtype">boolean</span> activateLight = <span class="keyword">true</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (attributes.containsKey(ATTRIBUTE_ACTIVATE_LIGHT)) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            activateLight = (boolean) attributes.get(ATTRIBUTE_ACTIVATE_LIGHT);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">boolean</span> scan = <span class="keyword">true</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (attributes.containsKey(ATTRIBUTE_CONTINUOUS_SCAN)) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            scan = (boolean) attributes.get(ATTRIBUTE_CONTINUOUS_SCAN);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordtype">boolean</span> beep = <span class="keyword">false</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> (attributes.containsKey(ATTRIBUTE_PLAY_SOUND)) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            beep = (boolean) attributes.get(ATTRIBUTE_PLAY_SOUND);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;direction: &quot;</span> + direction + <span class="stringliteral">&quot;  activateLight:&quot;</span> + activateLight + <span class="stringliteral">&quot; playSound:&quot;</span> +</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                beep + <span class="stringliteral">&quot; continuousScan:&quot;</span> + scan);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        Intent intent = <span class="keyword">new</span> Intent(<span class="stringliteral">&quot;com.verifone.swordfish.zbar.scan&quot;</span>);  <span class="comment">// zbar</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        intent.putExtra(SINGLESCAN_EXTRA, !scan);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        intent.putExtra(XPOS_EXTRA, rect.left);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        intent.putExtra(YPOS_EXTRA, rect.top);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordtype">int</span> width = rect.right - rect.left;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordtype">int</span> height = rect.bottom - rect.top;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> (width &gt; 0 &amp;&amp; height &gt; 0) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            intent.putExtra(WIDTH_EXTRA, width);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            intent.putExtra(HEIGHT_EXTRA, height);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">if</span> (gravity != Gravity.NO_GRAVITY) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            intent.putExtra(GRAVITY_EXTRA, gravity);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        intent.putExtra(FACING_EXTRA, facing);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        intent.putExtra(LEDSTATE_EXTRA, activateLight);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        intent.putExtra(SWITCH_CAMERA_EXTRA, allowSwitchCamera);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        intent.putExtra(BEEP_EXTRA, beep);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        activity.startActivity(intent);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span> mStatus;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">     * Get the list of supported barcode formats</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a2144d3a8bcaa1781a192f816ad6fc479">  314</a></span>&#160;    <span class="keyword">public</span> List&lt;String&gt; <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a2144d3a8bcaa1781a192f816ad6fc479">getSupportedBarcodeFormats</a>() {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        ArrayList&lt;String&gt; formats = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= 16; i++) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            formats.add(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner_barcode_format.html">ScannerBarcodeFormat</a>.barcodeToString(i));</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span> formats;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">     * A convenience method to check if this scanner represents the tablet camera.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a00dd261ca99e0d2e695e5959ac70efc4">  327</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a00dd261ca99e0d2e695e5959ac70efc4">isBuiltinCamera</a>() {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">     * Returns a unique ID to identify this peripheral. This ID will be consistent across device</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">     * disconnect/reconnect, restarts, and across all applications for this device, but may change</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">     * during factory resets or if the peripheral is reset.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aab219518f0eaf3db55b6a62ad6b49407">  336</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aab219518f0eaf3db55b6a62ad6b49407">getId</a>() {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> String.valueOf(mId);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">     * Returns the name as assigned by the merchant, or getModel if the name is not set.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a78ee178b6a73658d65ca60da4d1e6683">  343</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a78ee178b6a73658d65ca60da4d1e6683">getName</a>() {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> SCANNER_NAME;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">     * Returns the model as provided by the manufacturer, or null if not available.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a72ed58521c1ebcb21c643e00ff242f72">  350</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a72ed58521c1ebcb21c643e00ff242f72">getModel</a>() {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">     * Generally returns the serial number or some other unique hardware identifier for the</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">     * peripheral, or null if not available.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa61cfc8cc19b3e25daeff7e8c36e9d3">  358</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa61cfc8cc19b3e25daeff7e8c36e9d3">getHardwareId</a>() {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">     * Returns the type of peripheral based on the constant {@code PERIPHERAL_TYPE} defined in the</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">     * respective class.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a7a488845f260efdf816e7974057fa27a">  366</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a7a488845f260efdf816e7974057fa27a">getPeripheralType</a>() {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#af8e9d0f4f3ada5f6a27920834cb621e0">PERIPHERAL_TYPE</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">     * Returns the current status of the peripheral. This may return one of the statuses listed</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">     * above, or a peripheral-specific status.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a35400d7f41e621c7dc3d0dc809e76770">  374</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a35400d7f41e621c7dc3d0dc809e76770">getStatus</a>() {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> mStatus;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">     * Returns the manner in which the Android peripheral service connects to the peripheral. The</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">     * type of connection may change, as some peripherals may dock/undock, while other peripherals</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">     * will be constant.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a3343b94d4c4dd15985a556829970950d">  383</a></span>&#160;    <span class="keyword">public</span> String <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a3343b94d4c4dd15985a556829970950d">getConnectionType</a>() {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#af7826bbad417555978d94609656fab88">BUILTIN_CONNECTION</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">     * Starts a session with the peripheral, reserving it for use by this application.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a274a169a08cbc44e4dbddd61262f4573">  390</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a274a169a08cbc44e4dbddd61262f4573">startSession</a>() {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        getUpdatedStatus();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;startSession....&quot;</span> + mStatus);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span> (mStatus.equals(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a4301616da35a68b4bf9ae03065acbac7">STATUS_READY</a>)) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">     * Releases the peripheral, allowing other applications to start using it.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a5cb78c56644cf129369fdee8964ed47c">  402</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a5cb78c56644cf129369fdee8964ed47c">endSession</a>() {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        getUpdatedStatus();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;Scanner status:&quot;</span> + mStatus);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (mStatus.equals(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa6c50b1b20df92bd67964ab2f317bab">STATUS_SCANNING</a>)) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            broadcastStatusChange(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#aa7185e4ddf4cdc71d0a92a04137a1e60">STATUS_BUSY</a>, null);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            broadcastStatusChange(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">Scanner</a>.<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a4301616da35a68b4bf9ae03065acbac7">STATUS_READY</a>, null);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">     * A method to check on peripheral-specific capabilities.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a326925d44d85764223965247fd7933af">  417</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a326925d44d85764223965247fd7933af">isCapable</a>(String capability) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">return</span> capability.equals(CAPABILITY_CONTINUOUS_SCANNING) ||</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                capability.equals(CAPABILITY_DISPLAY_SCAN_FEED) ||</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                capability.equals(CAPABILITY_LIMIT_SCAN_AREA) ||</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                capability.equals(CAPABILITY_PLAY_SCAN_SOUND) ||</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                capability.equals(CAPABILITY_SET_SCAN_DIRECTION) ||</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                capability.equals(CAPABILITY_ACTIVATE_LIGHT);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">     * Returns the current mAttributes, or null if this peripheral does not support mAttributes, or an</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">     * empty HashMap if none are applied and there are no defaults.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac41f0b0c82d0df316ec803e9b0af2db4">  430</a></span>&#160;    <span class="keyword">public</span> HashMap&lt;String, Object&gt; <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac41f0b0c82d0df316ec803e9b0af2db4">getAttributes</a>() {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> mAttributes;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">void</span> setPeripheralManager(<a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_peripheral_manager.html">PeripheralManager</a> manager, Context context) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        this.mManager = manager;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="comment">// TODO: We need to remove this broadcast system, there&#39;s no way to unregister these.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        context.registerReceiver(mBroadcastReceiver, <span class="keyword">new</span> IntentFilter(INTENT_SCANDATA));</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        context.registerReceiver(mBroadcastReceiver, <span class="keyword">new</span> IntentFilter(INTENT_SCANSTATUS));</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> getUpdatedStatus() {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot; getUpdatedStatus...&quot;</span>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span> (mManager.mServiceBound) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                mStatus = mManager.mService.getScannerStatus();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot; getUpdatedStatus..mStatus:.&quot;</span> + mStatus);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#af9382b923a644a15d5a395f7b069665b">e</a>(TAG, <span class="stringliteral">&quot;Exception in getScannerStatus&quot;</span>, e);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> updateStatus() {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (mManager.mServiceBound) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                mManager.mService.setScannerStatus(mStatus);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#af9382b923a644a15d5a395f7b069665b">e</a>(TAG, <span class="stringliteral">&quot;Exception in setScannerStatus&quot;</span>, e);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> scanData(Intent intent) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        String barcode = intent.getStringExtra(BARCODE_EXTRA);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordtype">int</span> format = intent.getIntExtra(FORMAT_EXTRA, -1);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordtype">int</span> time = intent.getIntExtra(TIME_EXTRA, -1);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;scandata barcode:&quot;</span> + barcode + <span class="stringliteral">&quot; format:&quot;</span> + format);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG + <span class="stringliteral">&quot; PERFORMANCE&quot;</span>, <span class="stringliteral">&quot;scan time:&quot;</span> + time + <span class="stringliteral">&quot; secs&quot;</span>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        HashMap&lt;String, Object&gt; attributes = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        attributes.put(ATTRIBUTE_BARCODE, barcode);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        attributes.put(ATTRIBUTE_BARCODE_FORMAT, <a class="code" href="classcom_1_1verifone_1_1peripherals_1_1_scanner_barcode_format.html">ScannerBarcodeFormat</a>.barcodeToString(format));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        broadcastStatusChange(STATUS_BARCODE_DETECTED, attributes);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> broadcastStatusChange(String status, HashMap&lt;String, Object&gt; attributes) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">final</span> List&lt;PeripheralStatusListener&gt; peripheralListener = mManager.getListeners(</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                PERIPHERAL_TYPE);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html">Log</a>.<a class="code" href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">d</a>(TAG, <span class="stringliteral">&quot;broadcastStatusChange listeners:  &quot;</span> + peripheralListener.size());</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="interfacecom_1_1verifone_1_1peripherals_1_1_peripheral_status_listener.html">PeripheralStatusListener</a> listener : peripheralListener) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            listener.onStatusChanged(<span class="keyword">this</span>, status, attributes);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_html_af7826bbad417555978d94609656fab88"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#af7826bbad417555978d94609656fab88">com.verifone.peripherals.Peripheral.BUILTIN_CONNECTION</a></div><div class="ttdeci">static final String BUILTIN_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_8java_source.html#l00061">Peripheral.java:61</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a80677a7568a616f9bb2db927bd2f9f4e"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a80677a7568a616f9bb2db927bd2f9f4e">com.verifone.peripherals.Scanner.ATTRIBUTE_DISPLAY_FEED_PARENT</a></div><div class="ttdeci">static final String ATTRIBUTE_DISPLAY_FEED_PARENT</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00068">Scanner.java:68</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a274a169a08cbc44e4dbddd61262f4573"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a274a169a08cbc44e4dbddd61262f4573">com.verifone.peripherals.Scanner.startSession</a></div><div class="ttdeci">boolean startSession()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00390">Scanner.java:390</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_af8e9d0f4f3ada5f6a27920834cb621e0"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#af8e9d0f4f3ada5f6a27920834cb621e0">com.verifone.peripherals.Scanner.PERIPHERAL_TYPE</a></div><div class="ttdeci">static final String PERIPHERAL_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00030">Scanner.java:30</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a78ee178b6a73658d65ca60da4d1e6683"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a78ee178b6a73658d65ca60da4d1e6683">com.verifone.peripherals.Scanner.getName</a></div><div class="ttdeci">String getName()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00343">Scanner.java:343</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a326925d44d85764223965247fd7933af"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a326925d44d85764223965247fd7933af">com.verifone.peripherals.Scanner.isCapable</a></div><div class="ttdeci">boolean isCapable(String capability)</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00417">Scanner.java:417</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a72ed58521c1ebcb21c643e00ff242f72"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a72ed58521c1ebcb21c643e00ff242f72">com.verifone.peripherals.Scanner.getModel</a></div><div class="ttdeci">String getModel()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00350">Scanner.java:350</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html">com.verifone.peripherals.Scanner</a></div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00024">Scanner.java:24</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ab5fcbabe0eb0051bdba2d026cc14d5e3"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5fcbabe0eb0051bdba2d026cc14d5e3">com.verifone.peripherals.Scanner.CAPABILITY_DISPLAY_SCAN_FEED</a></div><div class="ttdeci">static final String CAPABILITY_DISPLAY_SCAN_FEED</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00106">Scanner.java:106</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a00dd261ca99e0d2e695e5959ac70efc4"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a00dd261ca99e0d2e695e5959ac70efc4">com.verifone.peripherals.Scanner.isBuiltinCamera</a></div><div class="ttdeci">boolean isBuiltinCamera()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00327">Scanner.java:327</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ac7afee06c2dcdcfc8f46f834b20b893b"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac7afee06c2dcdcfc8f46f834b20b893b">com.verifone.peripherals.Scanner.ATTRIBUTE_PLAY_SOUND</a></div><div class="ttdeci">static final String ATTRIBUTE_PLAY_SOUND</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00079">Scanner.java:79</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_accd1d6a0af404986b8f5151c4ef2dc06"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#accd1d6a0af404986b8f5151c4ef2dc06">com.verifone.peripherals.Scanner.STATUS_BARCODE_DETECTED</a></div><div class="ttdeci">static final String STATUS_BARCODE_DETECTED</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00046">Scanner.java:46</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ad35004c653853f06c08a51d4726d1750"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ad35004c653853f06c08a51d4726d1750">com.verifone.peripherals.Scanner.ATTRIBUTE_VIEW_GRAVITY</a></div><div class="ttdeci">static final String ATTRIBUTE_VIEW_GRAVITY</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00119">Scanner.java:119</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a740a1274b6af755fe89bae30f88ac0b2"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a740a1274b6af755fe89bae30f88ac0b2">com.verifone.peripherals.Scanner.ATTRIBUTE_SCAN_AREA_LIMIT</a></div><div class="ttdeci">static final String ATTRIBUTE_SCAN_AREA_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00073">Scanner.java:73</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a873ff8ea7d148b18433f0fbacc473482"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a873ff8ea7d148b18433f0fbacc473482">com.verifone.peripherals.Scanner.ATTRIBUTE_CONTINUOUS_SCAN</a></div><div class="ttdeci">static final String ATTRIBUTE_CONTINUOUS_SCAN</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00062">Scanner.java:62</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ae52759d08b15a9eed61991412d768344"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae52759d08b15a9eed61991412d768344">com.verifone.peripherals.Scanner.STATUS_SUSPENDED</a></div><div class="ttdeci">static final String STATUS_SUSPENDED</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00036">Scanner.java:36</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a8486088995e470db898e669d9d51dd0a"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a8486088995e470db898e669d9d51dd0a">com.verifone.peripherals.Scanner.ATTRIBUTE_SET_DIRECTION</a></div><div class="ttdeci">static final String ATTRIBUTE_SET_DIRECTION</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00088">Scanner.java:88</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_aebf0e4445c95f47a7f3299c586c29adf"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aebf0e4445c95f47a7f3299c586c29adf">com.verifone.peripherals.Scanner.CAPABILITY_CONTINUOUS_SCANNING</a></div><div class="ttdeci">static final String CAPABILITY_CONTINUOUS_SCANNING</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00100">Scanner.java:100</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_html_aa7185e4ddf4cdc71d0a92a04137a1e60"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#aa7185e4ddf4cdc71d0a92a04137a1e60">com.verifone.peripherals.Peripheral.STATUS_BUSY</a></div><div class="ttdeci">static final String STATUS_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_8java_source.html#l00023">Peripheral.java:23</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1utilities_1_1_log_html_af9382b923a644a15d5a395f7b069665b"><div class="ttname"><a href="classcom_1_1verifone_1_1utilities_1_1_log.html#af9382b923a644a15d5a395f7b069665b">com.verifone.utilities.Log.e</a></div><div class="ttdeci">static int e(String tag, String msg)</div><div class="ttdef"><b>Definition:</b> <a href="_log_8java_source.html#l00436">Log.java:436</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_aab219518f0eaf3db55b6a62ad6b49407"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aab219518f0eaf3db55b6a62ad6b49407">com.verifone.peripherals.Scanner.getId</a></div><div class="ttdeci">String getId()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00336">Scanner.java:336</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a2144d3a8bcaa1781a192f816ad6fc479"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a2144d3a8bcaa1781a192f816ad6fc479">com.verifone.peripherals.Scanner.getSupportedBarcodeFormats</a></div><div class="ttdeci">List&lt; String &gt; getSupportedBarcodeFormats()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00314">Scanner.java:314</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ac41f0b0c82d0df316ec803e9b0af2db4"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ac41f0b0c82d0df316ec803e9b0af2db4">com.verifone.peripherals.Scanner.getAttributes</a></div><div class="ttdeci">HashMap&lt; String, Object &gt; getAttributes()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00430">Scanner.java:430</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_aac34db44b3d14281c6f45db3359cf2fa"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aac34db44b3d14281c6f45db3359cf2fa">com.verifone.peripherals.Scanner.ATTRIBUTE_BARCODE_FORMAT</a></div><div class="ttdeci">static final String ATTRIBUTE_BARCODE_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00056">Scanner.java:56</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ae4cb40e949cbaa17c06ca2fabf2d14d7"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ae4cb40e949cbaa17c06ca2fabf2d14d7">com.verifone.peripherals.Scanner.CAPABILITY_SET_SCAN_DIRECTION</a></div><div class="ttdeci">static final String CAPABILITY_SET_SCAN_DIRECTION</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00131">Scanner.java:131</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1utilities_1_1_log_html_aff8b6b070c4e25c98daf141cd9867cfa"><div class="ttname"><a href="classcom_1_1verifone_1_1utilities_1_1_log.html#aff8b6b070c4e25c98daf141cd9867cfa">com.verifone.utilities.Log.d</a></div><div class="ttdeci">static int d(String tag, String msg)</div><div class="ttdef"><b>Definition:</b> <a href="_log_8java_source.html#l00373">Log.java:373</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_aad83a5e80638981ba1bfc89fd0d57be7"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#aad83a5e80638981ba1bfc89fd0d57be7">com.verifone.peripherals.Scanner.ATTRIBUTE_ACTIVATE_LIGHT</a></div><div class="ttdeci">static final String ATTRIBUTE_ACTIVATE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00093">Scanner.java:93</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_html_a4301616da35a68b4bf9ae03065acbac7"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a4301616da35a68b4bf9ae03065acbac7">com.verifone.peripherals.Peripheral.STATUS_READY</a></div><div class="ttdeci">static final String STATUS_READY</div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_8java_source.html#l00021">Peripheral.java:21</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_html"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html">com.verifone.peripherals.Peripheral</a></div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_8java_source.html#l00016">Peripheral.java:16</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a4683b4af46cddc82002a43ea41ce8d26"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a4683b4af46cddc82002a43ea41ce8d26">com.verifone.peripherals.Scanner.CAPABILITY_PLAY_SCAN_SOUND</a></div><div class="ttdeci">static final String CAPABILITY_PLAY_SCAN_SOUND</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00125">Scanner.java:125</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_manager_html"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral_manager.html">com.verifone.peripherals.PeripheralManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_manager_8java_source.html#l00024">PeripheralManager.java:24</a></div></div>
<div class="ttc" id="interfacecom_1_1verifone_1_1peripherals_1_1_peripheral_status_listener_html"><div class="ttname"><a href="interfacecom_1_1verifone_1_1peripherals_1_1_peripheral_status_listener.html">com.verifone.peripherals.PeripheralStatusListener</a></div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_status_listener_8java_source.html#l00014">PeripheralStatusListener.java:14</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_ab5cf7cff797cddb75aef913dc1e6d4af"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#ab5cf7cff797cddb75aef913dc1e6d4af">com.verifone.peripherals.Scanner.initiateScan</a></div><div class="ttdeci">String initiateScan(HashMap&lt; String, Object &gt; attributes)</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00222">Scanner.java:222</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_afa61cfc8cc19b3e25daeff7e8c36e9d3"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa61cfc8cc19b3e25daeff7e8c36e9d3">com.verifone.peripherals.Scanner.getHardwareId</a></div><div class="ttdeci">String getHardwareId()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00358">Scanner.java:358</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a3343b94d4c4dd15985a556829970950d"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a3343b94d4c4dd15985a556829970950d">com.verifone.peripherals.Scanner.getConnectionType</a></div><div class="ttdeci">String getConnectionType()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00383">Scanner.java:383</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a7a488845f260efdf816e7974057fa27a"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a7a488845f260efdf816e7974057fa27a">com.verifone.peripherals.Scanner.getPeripheralType</a></div><div class="ttdeci">String getPeripheralType()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00366">Scanner.java:366</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a35400d7f41e621c7dc3d0dc809e76770"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a35400d7f41e621c7dc3d0dc809e76770">com.verifone.peripherals.Scanner.getStatus</a></div><div class="ttdeci">String getStatus()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00374">Scanner.java:374</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_acfc76f572ad63f8ef397cdc604bcca66"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#acfc76f572ad63f8ef397cdc604bcca66">com.verifone.peripherals.Scanner.CAPABILITY_LIMIT_SCAN_AREA</a></div><div class="ttdeci">static final String CAPABILITY_LIMIT_SCAN_AREA</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00114">Scanner.java:114</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_peripheral_html_a64290764776be683fac08aafc3051998"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_peripheral.html#a64290764776be683fac08aafc3051998">com.verifone.peripherals.Peripheral.STATUS_DISCONNECTED</a></div><div class="ttdeci">static final String STATUS_DISCONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="_peripheral_8java_source.html#l00025">Peripheral.java:25</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1utilities_1_1_log_html"><div class="ttname"><a href="classcom_1_1verifone_1_1utilities_1_1_log.html">com.verifone.utilities.Log</a></div><div class="ttdef"><b>Definition:</b> <a href="_log_8java_source.html#l00068">Log.java:68</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a909cd8a9da5210f6f6e23394e39c0bf3"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a909cd8a9da5210f6f6e23394e39c0bf3">com.verifone.peripherals.Scanner.ATTRIBUTE_BARCODE</a></div><div class="ttdeci">static final String ATTRIBUTE_BARCODE</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00052">Scanner.java:52</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_afa6c50b1b20df92bd67964ab2f317bab"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#afa6c50b1b20df92bd67964ab2f317bab">com.verifone.peripherals.Scanner.STATUS_SCANNING</a></div><div class="ttdeci">static final String STATUS_SCANNING</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00041">Scanner.java:41</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a76c25f26dbf9691926fe0214ecd9715f"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a76c25f26dbf9691926fe0214ecd9715f">com.verifone.peripherals.Scanner.CAPABILITY_ACTIVATE_LIGHT</a></div><div class="ttdeci">static final String CAPABILITY_ACTIVATE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00137">Scanner.java:137</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_barcode_format_html"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner_barcode_format.html">com.verifone.peripherals.ScannerBarcodeFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="_scanner_barcode_format_8java_source.html#l00004">ScannerBarcodeFormat.java:4</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1peripherals_1_1_scanner_html_a5cb78c56644cf129369fdee8964ed47c"><div class="ttname"><a href="classcom_1_1verifone_1_1peripherals_1_1_scanner.html#a5cb78c56644cf129369fdee8964ed47c">com.verifone.peripherals.Scanner.endSession</a></div><div class="ttdeci">boolean endSession()</div><div class="ttdef"><b>Definition:</b> <a href="_scanner_8java_source.html#l00402">Scanner.java:402</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- id is needed for treeview function! -->
<!-- <div id="nav-path" class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5eb159725f84c66aafd839904a4acdd0.html">main</a></li><li class="navelem"><a class="el" href="dir_fd3f6763802dee1ad875f6c80eac0bda.html">java</a></li><li class="navelem"><a class="el" href="dir_d8517d8b842053dc3dd7dde525dd9163.html">com</a></li><li class="navelem"><a class="el" href="dir_9b6b50013e7e392aba59aadc54aeeafb.html">verifone</a></li><li class="navelem"><a class="el" href="dir_7a496e3f6e897a335ef4da6c63827a92.html">peripherals</a></li><li class="navelem"><b>Scanner.java</b></li>
  </ul>
</div> -->
<div style="width: 100%;
	line-height: 140%;
	font: 400 14px/22px Roboto,sans-serif;
	color: black;">
<!--<div style="font-size: 11px;
	background-image: url('tab_b.png');
	background-repeat: repeat-x;
	background-position: 0 -5px;
	height: 30px;
	line-height: 30px;
	color: #8AA0CC;
	border: solid 1px #C2CDE4;
	overflow: hidden;
	margin: 0px;
	padding: 0px;"></div> -->
<p style="font-size: 11px;
	line-height: 100%;
	color: #ffffff;
	border: solid 1px #C2CDE4;
	margin: 10px;
	padding: 10px;">
This document is the confidential property of Verifone, Inc. Any reproduction or distribution of this document, in whole or in part, or the disclosure of any of the information contained herein, without the prior written consent of Verifone, Inc. is prohibited. This document and any supplemental material supplied as part of any review must be returned to Verifone, Inc. upon request. Notice: This document may go through material revisions over time. While the Company will make every effort to keep readers updated as changes occur, care must be taken by the reader to make sure they are reading the latest version.  Version numbers appear in the title page and revision history page of this document. All rights reserved. Verifone, the Verifone logo are either trademarks or registered trademarks of Verifone in the United States and/or other countries. All other trademarks or brand names are properties of their respective holders.</p>
</div>
</body>
</html>
