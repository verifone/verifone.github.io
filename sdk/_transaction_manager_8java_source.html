<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carbon Developer APIs: src/com/verifone/commerce/payment/TransactionManager.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Carbon Developer APIs
   </div>
   <div id="projectbrief">Version 1.9.2 (7a29c109564). Updated on 2017-08-04 at 11:26 PDT.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_transaction_manager_8java_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TransactionManager.java</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2017 by VeriFone, Inc.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All Rights Reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * THIS FILE CONTAINS PROPRIETARY AND CONFIDENTIAL INFORMATION</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * AND REMAINS THE UNPUBLISHED PROPERTY OF VERIFONE, INC.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Use, disclosure, or reproduction is prohibited</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * without prior written approval from VeriFone, Inc.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">package </span>com.verifone.commerce.payment;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">import</span> android.content.Context;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> android.content.ServiceConnection;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> android.os.Bundle;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> android.os.IBinder;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">import</span> android.os.RemoteException;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">import</span> android.support.annotation.NonNull;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">import</span> android.support.annotation.Nullable;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> android.text.TextUtils;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">import</span> android.util.Log;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.ICommerceListener;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">entities</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_card_information.html">CardInformation</a>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">entities</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_output_content.html">OutputContent</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">entities</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">entities</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_stored_value_card_information.html">StoredValueCardInformation</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">entities</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1payment.html">payment</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1payment_1_1reports.html">reports</a>.IReportManager;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1verifone.html">verifone</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce.html">commerce</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1payment.html">payment</a>.<a class="code" href="namespacecom_1_1verifone_1_1commerce_1_1payment_1_1reports.html">reports</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager.html">ReportManager</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">import</span> java.math.BigDecimal;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">import</span> java.util.HashMap;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">import</span> java.util.List;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">import</span> java.util.Map;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">import</span> java.util.NoSuchElementException;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * The service handle for performing transactions. Generally, only the static</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * getTransactionManager methods should be used to obtain an instance of this class, ensuring</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * that the proper service and binder are wrapped by this class.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">   44</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a> <span class="keyword">implements</span> ITransactionManager, IBinder.DeathRecipient {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="stringliteral">&quot;TransactionManager&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">     * To be used with the {@link #isCapable(String)} method, determining if the current</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">     * implementation supports login/logout. If an implementation supports login/logout, it is</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">     * generally a required action that must be performed before starting a session or performing</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">     * other actions.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a1fe49e21ca3e776e6c394c3373e5c5b7">   52</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a1fe49e21ca3e776e6c394c3373e5c5b7">LOGIN_CAPABILITY</a> = <span class="stringliteral">&quot;LOGIN_CAPABILITY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">     * The debug parameters key to set how long the service should arbitrarily delay the response.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     * This is particularly helpful when testing in STUB mode for some use cases.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac5f9446be6b5c60305f6e9371030ea34">   57</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac5f9446be6b5c60305f6e9371030ea34">DEBUG_DELAY_IN_MS_KEY</a> = <span class="stringliteral">&quot;DEBUG_DELAY_IN_MS_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">     * The debug parameters key to set which types of events should be arbitrarily returned as</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">     * failed. This is particularly helpful when testing in STUB mode for some use cases.</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae77c1949681bf2fa603715f1a0605832">   62</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae77c1949681bf2fa603715f1a0605832">DEBUG_FAIL_EVENT_TYPES_KEY</a> = <span class="stringliteral">&quot;DEBUG_FAIL_EVENT_TYPES_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">     * The device parameters key to set which IP address to use for the device. This should</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * generally be left unset, unless testing in the simulator or some other environment.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abe5f2880909dea4c2d06e458202d655c">   67</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abe5f2880909dea4c2d06e458202d655c">DEVICE_IP_ADDRESS_KEY</a> = <span class="stringliteral">&quot;DEVICE_IP_ADDRESS_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">     * The device parameters key to set which port to use when connecting to the payment</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     * application on the payment terminal. This is useful if integrating with a payment</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * application that uses a non-standard port for the messages, and should only be set in</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     * specific regions.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac1405e083bbaf0dde257ab1a385af020">   74</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac1405e083bbaf0dde257ab1a385af020">DEVICE_PORT_KEY</a> = <span class="stringliteral">&quot;DEVICE_PORT_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * The device parameters key to set training mode for the device (true or false). This should</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     * generally be left unset, unless testing in the simulator or some other environment.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a41dc9efc9f25291a0c02b6754218d802">   79</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a41dc9efc9f25291a0c02b6754218d802">DEVICE_TRAINING_MODE_KEY</a> = <span class="stringliteral">&quot;DEVICE_TRAINING_MODE_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * The device parameters key to set if specifying a specific protocol to use when</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     * communicating with the payment application. This is generally discovered, though some</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     * regions may require this parameter to be set explicitly.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac62d650802b6ac3afb82e813d8c5bb39">   85</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac62d650802b6ac3afb82e813d8c5bb39">DEVICE_PROTOCOL_KEY</a> = <span class="stringliteral">&quot;DEVICE_PROTOCOL_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     * The protocol value when communicating using EPAS, supported for multiple regions.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a771ada0be6776d1ccf58ab11d5e266e3">   89</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a771ada0be6776d1ccf58ab11d5e266e3">DEVICE_PROTOCOL_EPAS</a> = <span class="stringliteral">&quot;EPAS&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">     * The protocol value when communicating using NEXO, supported for multiple regions. EPAS</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">     * changed its name to NEXO when moving to version 3.0.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af60db021c17d0185b5f4c11b2cbaf770">   94</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af60db021c17d0185b5f4c11b2cbaf770">DEVICE_PROTOCOL_NEXO</a> = <span class="stringliteral">&quot;NEXO&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">     * The protocol value when communicating using the general SCI protocol, without</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">     * region-specific modifications.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a12ad74d6c5a35496546bc7c1dc99520e">   99</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a12ad74d6c5a35496546bc7c1dc99520e">DEVICE_PROTOCOL_SCI</a> = <span class="stringliteral">&quot;SCI&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">     * The protocol value for Israel.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acacb177400bd82bd3594ecde49ebafb1">  103</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acacb177400bd82bd3594ecde49ebafb1">DEVICE_PROTOCOL_IL</a> = <span class="stringliteral">&quot;SCI_IL&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">     * Allows the calling Android application to provide an application name, sometimes used for</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">     * certification or to meet other requirements.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aaabc6a0d5658d426a86a6fa1fc278370">  108</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aaabc6a0d5658d426a86a6fa1fc278370">DEVICE_APPLICATION_NAME_KEY</a> = <span class="stringliteral">&quot;DEVICE_APPLICATION_NAME_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">     * Allows the calling Android application to provide an application version, sometimes used for</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">     * certification or to meet other requirements.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a13370ec5d230722c958f358bbfd126ab">  113</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a13370ec5d230722c958f358bbfd126ab">DEVICE_APPLICATION_VERSION_KEY</a> = <span class="stringliteral">&quot;DEVICE_APPLICATION_VERSION_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">     * Allows the calling Android application to provide a manufacturer ID, sometimes used for</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">     * certification or to meet other requirements.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae2d173eefebe9a56ed584460e992b825">  118</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae2d173eefebe9a56ed584460e992b825">DEVICE_APPLICATION_MANUFACTURER_ID_KEY</a> = <span class="stringliteral">&quot;DEVICE_APPLICATION_MANUFACTURER_ID_KEY&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">     * Allows the calling Android application to provide a certification code, sometimes used for</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">     * certification or to meet other requirements.</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0b15dd62961d2a0a8da54e5e1b8fde23">  123</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0b15dd62961d2a0a8da54e5e1b8fde23">DEVICE_APPLICATION_CERTIFICATION_CODE_KEY</a> = <span class="stringliteral">&quot;DEVICE_APPLICATION_CERTIFICATION_CODE_KEY&quot;</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">    /** The current state is unknown or otherwise unrecognized. This will rarely happen. */</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a074315277ccfc074ed3c83a8adaeed76">  127</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a074315277ccfc074ed3c83a8adaeed76">STATE_UNKNOWN</a> = <span class="stringliteral">&quot;STATE_UNKNOWN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">    /** There is not currently a login session active, which may or may not be a problem. */</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a62891d32e131c9b3709e05e326681cb6">  129</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a62891d32e131c9b3709e05e326681cb6">STATE_NOT_LOGGED_IN</a> = <span class="stringliteral">&quot;STATE_NOT_LOGGED_IN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">    /** A login has been initiated and is currently being attempted. */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad2bb29cecd84544131b5268848a2573f">  131</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad2bb29cecd84544131b5268848a2573f">STATE_LOGGING_IN</a> = <span class="stringliteral">&quot;STATE_LOGGING_IN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">    /** A login has been initiated and was accepted. */</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a82dcd889dd731f46e5650e89c755b24d">  133</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a82dcd889dd731f46e5650e89c755b24d">STATE_LOGGED_IN</a> = <span class="stringliteral">&quot;STATE_LOGGED_IN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    /** There is not a session active. */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e6ed6f62883b4813616375ff3d549b9">  135</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e6ed6f62883b4813616375ff3d549b9">STATE_SESSION_CLOSED</a> = <span class="stringliteral">&quot;STATE_SESSION_CLOSED&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    /** A session is currently being opened. */</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a50ad7aab3d664a5c0025d74aad65c1ab">  137</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a50ad7aab3d664a5c0025d74aad65c1ab">STATE_SESSION_OPENING</a> = <span class="stringliteral">&quot;STATE_SESSION_OPENING&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">    /** A session is open, and may already have basket items or even payments processed. */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a73199efc114d916e9d94ac80e7973b0e">  139</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a73199efc114d916e9d94ac80e7973b0e">STATE_SESSION_OPEN</a> = <span class="stringliteral">&quot;STATE_SESSION_OPEN&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     * A payment is being processed, which may or may not require further interaction from the</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     * customer or cashier.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a54d324c3e794f7b4ce01854797689c3a">  144</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a54d324c3e794f7b4ce01854797689c3a">STATE_PAYMENT_PROCESSING</a> = <span class="stringliteral">&quot;STATE_PAYMENT_PROCESSING&quot;</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    /** Please use {@link #STATE_LOGGING_IN}. */</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    @Deprecated</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af2295fbac034bef7e8d1353050f32f47">  148</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af2295fbac034bef7e8d1353050f32f47">SESSION_SERVICE_CONNECTING</a> = -4;<span class="comment"></span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">    /** Please use {@link #STATE_NOT_LOGGED_IN}. */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    @Deprecated</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa2c7fcf8b1936f30c6606453e2eef8cf">  151</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa2c7fcf8b1936f30c6606453e2eef8cf">SESSION_CLOSED</a> = 1;<span class="comment"></span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">    /** Please use {@link #STATE_LOGGED_IN}. */</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    @Deprecated</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0c75e58b60e8de22f448bf5500b96ab2">  154</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0c75e58b60e8de22f448bf5500b96ab2">SESSION_OPEN</a> = 3;<span class="comment"></span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    /** Refer to {@link #STATE_SESSION_OPEN}. */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    @Deprecated</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a161118b3fbeec3013e919f3bb30e2f4c">  157</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a161118b3fbeec3013e919f3bb30e2f4c">TRANSACTION_PROCESSING</a> = 5;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     * This is input type const for {@link #requestUserInput(String, String, String)} method.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9389ad19ca0103882dea2c347e337811">  162</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9389ad19ca0103882dea2c347e337811">INPUT_TYPE_SIGNATURE</a> = <span class="stringliteral">&quot;INPUT_TYPE_SIGNATURE&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">     * This is input type const for {@link #requestUserInput(String, String, String)} method.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a90c6122fbbbd495e236ecf861087ee61">  166</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a90c6122fbbbd495e236ecf861087ee61">INPUT_TYPE_EMAIL</a> = <span class="stringliteral">&quot;INPUT_TYPE_EMAIL&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">     * This is input type const for {@link #requestUserInput(String, String, String)} method.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abf788891ed0365f38ebbdf18ce45bee0">  170</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abf788891ed0365f38ebbdf18ce45bee0">INPUT_TYPE_NUMBER</a> = <span class="stringliteral">&quot;INPUT_TYPE_NUMBER&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">     * This is input type const for {@link #requestUserInput(String, String, String)} method.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a97d7c909c719d257ee7a86b20d313dfc">  174</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a97d7c909c719d257ee7a86b20d313dfc">INPUT_TYPE_DECIMAL</a> = <span class="stringliteral">&quot;INPUT_TYPE_DECIMAL&quot;</span>;<span class="comment"></span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">     * This is input type const for {@link #requestUserInput(String, String, String)} method.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aed13194450caa0849e696612859643ab">  178</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aed13194450caa0849e696612859643ab">INPUT_TYPE_TEXT</a> = <span class="stringliteral">&quot;INPUT_TYPE_TEXT&quot;</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">    /** The connection to the Transaction Service. */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> ITransactionManager mProxy;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    /** Refer to {@link #getTransactionManager(Context, ServiceConnection, Map)}. */</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a343abf1b67c4a386c633367842efec5a">  184</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a343abf1b67c4a386c633367842efec5a">getTransactionManager</a>(Context context) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a343abf1b67c4a386c633367842efec5a">getTransactionManager</a>(context, null, null);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    /** Refer to {@link #getTransactionManager(Context, ServiceConnection, Map)}. */</span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a740d74e892884e0b61c469d7cf0da83d">  189</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a740d74e892884e0b61c469d7cf0da83d">getTransactionManager</a>(<span class="keyword">final</span> Context context,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                                           <span class="keyword">final</span> ServiceConnection altServiceConnection) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a343abf1b67c4a386c633367842efec5a">getTransactionManager</a>(context, altServiceConnection, null);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     * Creates a representation of the proxy to communicate with the Transaction Service. Starts</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">     * the service binding and initialization process in the background. If called from a</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     * background thread, blocks until the service binding and initialization is complete. If</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">     * called from the main thread, operations should not be performed immediately, instead</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">     * giving the service time to bind in the background. Attach a ServiceConnection object to</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">     * receive the proper notifications when the service is bound or if it disconnects</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">     * unexpectedly. The manager automatically attempts to recover in the cases where the service</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">     * disconnects unexpectedly, or if other errors occur that drop the connection, so do not</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">     * attempt to handle those error cases other than delaying messages until the service is</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">     * reconnected.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aef8ecb8e8ff8c0e33e0fa612340d77a7">  206</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aef8ecb8e8ff8c0e33e0fa612340d77a7">getTransactionManager</a>(<span class="keyword">final</span> Context context,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                           <span class="keyword">final</span> ServiceConnection altServiceConnection,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                           <span class="keyword">final</span> Map deviceParams) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">TransactionServiceConnector</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a120974aeb39510f2f75dcd1621b15249">attachServiceConnection</a>(altServiceConnection);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a>(context, deviceParams);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    /** Use this method when bound to the service to link the Transaction Manager. */</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a20f1766e3ce9a34f2870b14c4b371754">  214</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a20f1766e3ce9a34f2870b14c4b371754">linkToBinder</a>(ITransactionManager transactionBinder) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">TransactionServiceConnector</a>.isConnectionValid(transactionBinder))</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            mProxy = transactionBinder;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">     * Cleans up any remaining sessions and unbinds from the service.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab804e0f66def63262c1d6b4e3d2a2bd7">  222</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab804e0f66def63262c1d6b4e3d2a2bd7">tearDown</a>() {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span> (mProxy != null) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                mProxy.asBinder().unlinkToDeath(<span class="keyword">this</span>, 0);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            } <span class="keywordflow">catch</span> (NoSuchElementException e) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                Log.w(TAG, <span class="stringliteral">&quot;Unable to unlink death recipient from transaction binder. &quot;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                           + e.getMessage());</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        mProxy = null;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">TransactionServiceConnector</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a4245287e2eee6876e77fc622168f728c">tearDown</a>(mContext);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     * Checks if the current terminal implementation allows handling of a specific command, as</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     * listed in the constants above. Returns true if the interface can handle the command,</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     * or false if not.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a326925d44d85764223965247fd7933af">  240</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a326925d44d85764223965247fd7933af">isCapable</a>(String capability) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;isCapable &quot;</span> + capability;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordflow">return</span> getProxy().isCapable(capability);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                errorOccurred(methodContext, e);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            warnMissingProxy(methodContext);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">     * Replaced by {@link #login(CommerceListener, String, String, String)}.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    @Deprecated</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2b300362bbe226c3bfe15f3175aafa11">  259</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2b300362bbe226c3bfe15f3175aafa11">startSession</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener, String userID, String password, <span class="keywordtype">int</span> shiftNumber) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> status = <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9153e502f1553a7895f50f62b75ac864">login</a>(listener, userID, password, Integer.toString(shiftNumber));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> (status != null &amp;&amp; status.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html#aebb0e2b33c2ec4bdcc13aaaf1642326f">getStatus</a>() == 0);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">     * Logs in through the payment terminal, possibly synchronizing information from the host to the</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">     * terminal and performing other similar setup/configuration steps. Also used for following</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">     * transactions, allowing them to be tracked by user and/or according to the shift. Notifies all</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">     * general listeners with a {@link TransactionEvent} of type</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">     * {@link TransactionEvent#LOGIN_COMPLETED}. Use the status from this event to determine the</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     * success or failure of the request, using any of the constant error codes to determine the</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     * nature of the failure if not successful. This is not used in all regions, please check the</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">     * requirement by calling {@link #isCapable(String)} using the constant {@link #LOGIN_CAPABILITY}.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * @param listener An optional listener, this is attached to the general events.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     * @param userId The userId for the current employee/user, this may be required depending on</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">     *               the implementation.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">     * @param password The appropriate password for the user, this may be required depending on</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">     *                 the implementation.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">     * @param shiftNumber The current shift number, if applicable, this may be required depending</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">     *                    on the implementation.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     * @return Success or failure of sending the request to the terminal. The actual result will be</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     * sent using the notification described earlier.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9153e502f1553a7895f50f62b75ac864">  283</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9153e502f1553a7895f50f62b75ac864">login</a>(@Nullable <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener, @Nullable String userId, @Nullable String password, @Nullable String shiftNumber) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9153e502f1553a7895f50f62b75ac864">login</a>((ICommerceListener) listener, userId, password, shiftNumber);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     * Refer to {@link #login(CommerceListener, String, String, String)}.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    @Override</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a80eac80fa1f94a5cc941077321cfe3a4">  291</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a80eac80fa1f94a5cc941077321cfe3a4">login</a>(@Nullable ICommerceListener listener, @Nullable String userId, @Nullable String password, @Nullable String shiftNumber) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        logMethodUse(<span class="stringliteral">&quot;login&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">return</span> getProxy().login(listener, userId, password, shiftNumber);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;login&quot;</span>, e);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;login&quot;</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">     * Logs out through the payment terminal. This must always be used in conjunction with the</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">     * {@link #login(CommerceListener, String, String, String)} method. Returns the success or</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     * failure of sending the request to the terminal. The actual result will be sent to the general</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * listeners with a {@link TransactionEvent} of type {@link TransactionEvent#LOGOUT_COMPLETED}.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     * Use the status from this event to determine the success or failure of the request, using any</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">     * of the constant error codes to determine the nature of the failure if not successful.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    @Override</div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb3893d38c80e3a9b3802e8cf5e8fbd2">  312</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb3893d38c80e3a9b3802e8cf5e8fbd2">logout</a>() {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        logMethodUse(<span class="stringliteral">&quot;logout&quot;</span>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">return</span> getProxy().logout();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;logout&quot;</span>, e);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;logout&quot;</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">     * Adds a listener for events that occur without an active session. For example, a</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">     * {@link com.verifone.commerce.payment.reports.ReconciliationEvent} is sent outside of a</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">     * session, as the reconciliation commands are not issued within the context of a session.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">     * Returns success if the listener was added or is already registered, and false if the listener</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">     * was not registered.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aeb9dd80f48b0f5902ef8c71e57478aac">  331</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aeb9dd80f48b0f5902ef8c71e57478aac">addGeneralListener</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aeb9dd80f48b0f5902ef8c71e57478aac">addGeneralListener</a>((ICommerceListener) listener);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">    /** Refer to {@link #addGeneralListener(CommerceListener)}. */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    @Override</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9f54624c3814bbf1b55649eef6aff531">  337</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9f54624c3814bbf1b55649eef6aff531">addGeneralListener</a>(ICommerceListener listener) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;addGeneralListener&quot;</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">return</span> getProxy().addGeneralListener(listener);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                errorOccurred(methodContext, e);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            warnMissingProxy(methodContext);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">     * Removes a listener for events that occur without an active session. Refer to</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">     * {@link #addGeneralListener(CommerceListener)} for more information.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">     * Returns success if the listener was removed or is not registered, and false if the listener</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">     * was not able to be removed.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a31ddefe89d82852fe13d3c1922c5502f">  358</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a31ddefe89d82852fe13d3c1922c5502f">removeGeneralListener</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a31ddefe89d82852fe13d3c1922c5502f">removeGeneralListener</a>((ICommerceListener) listener);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">    /** Refer to {@link #removeGeneralListener(CommerceListener)}. */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    @Override</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a694c0259b3b559568544b9ac922e0248">  364</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a694c0259b3b559568544b9ac922e0248">removeGeneralListener</a>(ICommerceListener listener) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;removeGeneralListener&quot;</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="keywordflow">return</span> getProxy().removeGeneralListener(listener);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                errorOccurred(methodContext, e);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            warnMissingProxy(methodContext);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">     * Starts a session, automatically generating a transaction associated with the session. This</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">     * transaction is included in the basic TransactionEvent fired, though the type is still</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">     * {@link package com.verifone.commerce.SessionEvent#SESSION_STARTED SESSION_STARTED}.</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">     * @param listener The first listener for the events. There may be more listeners added, but</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">     *                 there must always be at least one registered.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">     * @return True if the session opening message was submitted successfully. The listener will</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">     * receive the start event if the session is created, or will receive the appropriate message</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">     * if the session is not able to be created.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a03174858ab0ee50d909aba9025ff5325">  389</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a03174858ab0ee50d909aba9025ff5325">startSession</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> this.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2b300362bbe226c3bfe15f3175aafa11">startSession</a>(listener, null);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">     * Refer to {@link #startSession(CommerceListener)}. Optionally specify the transaction,</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">     * particularly helpful if this session is being opened solely for a non-payment type of</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">     * transaction.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a294f9263599f2a655d8229797eb13f6e">  398</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a294f9263599f2a655d8229797eb13f6e">startSession</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener, <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2b300362bbe226c3bfe15f3175aafa11">startSession</a>((ICommerceListener) listener, transaction);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">     * Not currently supported. Attempts to resume a session in the case of a Session Closed event</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">     * or an application crash. If it is not possible to resume, this may return immediately or</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">     * may send a Session Resume Failed event to the listener.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">     * @param listener The first listener for the session events. There may be more listeners added,</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">     *                 but there must always be at least one registered.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">     * @return True if the session opening message was submitted successfully. The listener will</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">     * receive the start event if the session is created, or will receive the appropriate message</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">     * if the session is not able to be created.</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e272c353033e2bb227e704a78b4e84f">  412</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e272c353033e2bb227e704a78b4e84f">resumeSession</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener, String sessionId) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e272c353033e2bb227e704a78b4e84f">resumeSession</a>((ICommerceListener) listener, sessionId);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">     * Allows adding new listeners for session events.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">     * @param listener A listener for session events. There may be more listeners added, but there</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">     *                 must always be at least one registered.</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">     * @return True if the listener was not already registered.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a8dc850c0820f749b9acf87d93ff3f7c8">  422</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a8dc850c0820f749b9acf87d93ff3f7c8">addSessionListener</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a8dc850c0820f749b9acf87d93ff3f7c8">addSessionListener</a>((ICommerceListener) listener);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">     * Removes a session listener. The last session listener cannot be removed through this method,</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">     * as there must always be a listener until the session ends.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">     * @param listener A registered listener for the session events.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">     * @return True if the listener exists.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a879914dc7f40e6639546d180101c6c40">  432</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a879914dc7f40e6639546d180101c6c40">removeSessionListener</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">CommerceListener</a> listener) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a879914dc7f40e6639546d180101c6c40">removeSessionListener</a>((ICommerceListener) listener);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">    /** Refer to {@link #startSession(CommerceListener)}. */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    @Override</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad7f026e79f9bc9278afcbe10e7e27954">  438</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad7f026e79f9bc9278afcbe10e7e27954">startSession</a>(ICommerceListener listener, <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        logMethodUse(<span class="stringliteral">&quot;startSession&quot;</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">if</span> (transaction == null)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    transaction = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a0d4c45f74de1cbc3ca38c16a71252e05">PAYMENT_TYPE</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">return</span> getProxy().startSession(listener, transaction);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Exception starting session. &quot;</span> + e.getMessage());</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;startSession&quot;</span>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">    /** Refer to {@link #resumeSession(CommerceListener, String)}. */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    @Override</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac2a7d0c89911c7df64b47e90178a460e">  456</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac2a7d0c89911c7df64b47e90178a460e">resumeSession</a>(ICommerceListener listener, String sessionId) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        logMethodUse(<span class="stringliteral">&quot;resumeSession&quot;</span>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">return</span> getProxy().resumeSession(listener, sessionId);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Exception resuming session. &quot;</span> + e.getMessage());</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;resumeSession&quot;</span>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">    /** Refer to {@link #addSessionListener(CommerceListener)}. */</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    @Override</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a77647e950802e6910fd94fc44a92c85e">  472</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a77647e950802e6910fd94fc44a92c85e">addSessionListener</a>(ICommerceListener listener) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        logMethodUse(<span class="stringliteral">&quot;addSessionListener&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">return</span> getProxy().addSessionListener(listener);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Exception adding session listener. &quot;</span> + e.getMessage());</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;addSessionListener&quot;</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">    /** Refer to {@link #removeSessionListener(CommerceListener)}. */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    @Override</div><div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a053ef8a15e1db011ae899141784f17be">  488</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a053ef8a15e1db011ae899141784f17be">removeSessionListener</a>(ICommerceListener listener) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        logMethodUse(<span class="stringliteral">&quot;removeSessionListener&quot;</span>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordflow">return</span> getProxy().removeSessionListener(listener);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Exception removing session listener. &quot;</span> + e.getMessage());</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;removeSessionListener&quot;</span>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">     * Get the set of currently registered listeners.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">     * @return The set of ICommerceListeners that are currently registered. This set is independent</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">     * of the internal set, and should only used as a reference for the current listeners, and</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">     * not be expected to update with the addition or removal of listeners.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    @Override</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac0ace3ad4899730e1fc633f5935380db">  509</a></span>&#160;    <span class="keyword">public</span> List <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac0ace3ad4899730e1fc633f5935380db">getListeners</a>() {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        logMethodUse(<span class="stringliteral">&quot;getListeners&quot;</span>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">return</span> getProxy().getListeners();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;getListeners&quot;</span>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">     * Ends a session. This releases the terminal reservation for this application, allowing other</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">     * applications to open sessions. This sends a stop message to the terminal to exit the</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">     * terminal application if launched by this app. The internal service may send this on behalf</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">     * of this Android application if this application crashes or exits without closing the</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">     * session. This method should be called prior to the release of the final reference to the</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">     * Commerce Manager. Once the session is ended, references to any registered listeners are</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">     * removed once the Session End event is properly reported.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">     * @return True if the session end message was submitted successfully. The listener will</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">     * receive the end event if the session is ended properly, or will receive the appropriate</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">     * message if the session is not able to be ended.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    @Override</div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5cb78c56644cf129369fdee8964ed47c">  536</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5cb78c56644cf129369fdee8964ed47c">endSession</a>() {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        logMethodUse(<span class="stringliteral">&quot;endSession&quot;</span>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">return</span> getProxy().endSession();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;endSession&quot;</span>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">     * Gets the most recent transaction. This transaction may still be in progress,</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">     * and should be treated accordingly.</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">     * @return The most recent transaction.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    @Override</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a17077e992c65efd697411459ca874945">  556</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a17077e992c65efd697411459ca874945">getTransaction</a>() {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        logMethodUse(<span class="stringliteral">&quot;getTransaction&quot;</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">return</span> getProxy().getTransaction();</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;getTransaction&quot;</span>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">     * Allows a transaction to be updated with new values, particularly helpful if the invoice or</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">     * type needs to be changed, or other similar values.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    @Override</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa08cba85b7931d885cd71080a3124b11">  575</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa08cba85b7931d885cd71080a3124b11">updateTransaction</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        logMethodUse(<span class="stringliteral">&quot;updateTransaction &quot;</span> + transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a2136d8a1f1dcb3a691153e011e0b98cd">getInvoiceId</a>());</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">return</span> getProxy().updateTransaction(transaction);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;updateTransaction&quot;</span>);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">     * The method to get an appropriate concrete implementation of the Basket Manager.</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">     * @return A concrete implementation of the basket manager.</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    @Override</div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a45bc6a8845c24b7b77e6d310a6797523">  594</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_basket_manager.html">BasketManager</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a45bc6a8845c24b7b77e6d310a6797523">getBasketManager</a>() {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        logMethodUse(<span class="stringliteral">&quot;getBasketManager&quot;</span>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_basket_manager.html">BasketManager</a> basketManager = null;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                IBasketManager iBasketManager = getProxy().getBasketManager();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">if</span> (iBasketManager != null)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    basketManager = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_basket_manager.html">BasketManager</a>(iBasketManager);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Unable to retrieve basket manager. Please make sure the service is &quot;</span> +</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                           <span class="stringliteral">&quot;still properly bound and active.&quot;</span>, e);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;getBasketManager&quot;</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">return</span> basketManager;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">     * Starts a payment for the current transaction.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">     * @param payment The payment object to use. Use</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">     *                {@link Payment#setRequestedPaymentAmount(BigDecimal)} to define the amount</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">     *                for a single payment if it should be different than the current transaction</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">     *                total. Use</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">     *                {@link Payment#setAuthorizationMethod(Payment.AuthorizationMethod)} to</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">     *                define the required authorization method for this payment.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    @Override</div><div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a211b28a8e4000feec599c9bd6aede57c">  622</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a211b28a8e4000feec599c9bd6aede57c">startPayment</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        logMethodUse(<span class="stringliteral">&quot;startPayment &quot;</span> + payment.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#a7226baf4b41d6de55d0c21aea3f5b896">getLocalPaymentId</a>());</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <span class="keywordflow">return</span> getProxy().startPayment(payment);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;startPayment&quot;</span>, e);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;startPayment&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">     * Initiates a sale on the payment terminal, generating a new transaction without a basket and</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">     * processing the amount.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">     * @param amount The total amount to charge to the customer.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">     * @param invoiceId The optional invoice ID to associate with this transaction.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">     * @return A status object indicating if the command was issued properly. Events regarding the</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">     * transaction are sent to the registered listener(s).</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6ec3a2c607aceb98a5749b41fba96923">  642</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6ec3a2c607aceb98a5749b41fba96923">startSale</a>(BigDecimal amount, String invoiceId, String currency) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordtype">boolean</span> shouldUpdateTransaction = (!TextUtils.isEmpty(invoiceId)</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                           || !TextUtils.isEmpty(currency));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">if</span> (shouldUpdateTransaction) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction = <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a17077e992c65efd697411459ca874945">getTransaction</a>();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordflow">if</span> (transaction != null) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">if</span> (!TextUtils.isEmpty(invoiceId))</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a6e56a5c3a88a355de52bc8afe8ad9f59">setInvoiceId</a>(invoiceId);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keywordflow">if</span> (!TextUtils.isEmpty(currency))</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#af7da404e329d19afc78025bdab9f3916">setCurrency</a>(currency);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa08cba85b7931d885cd71080a3124b11">updateTransaction</a>(transaction);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a>();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        payment.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#adc2e3553bb8dfd9125914d864a3a75c8">setRequestedPaymentAmount</a>(amount);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a211b28a8e4000feec599c9bd6aede57c">startPayment</a>(payment);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">     * Cancels the current payment or other action, but does not reset the session. If a new</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">     * invoice ID is needed, or a new cart, end the session or purge the basket, respectively.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">     * @return A status object indicating if the command was issued properly. Events regarding the</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">     * transaction are sent to the registered listener(s).</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    @Override</div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a55014516bdb8b98db823b34e6f19ee09">  667</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a55014516bdb8b98db823b34e6f19ee09">cancelTransaction</a>() {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        logMethodUse(<span class="stringliteral">&quot;cancelTransaction&quot;</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="keywordflow">return</span> getProxy().cancelTransaction();</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;cancelTransaction&quot;</span>, e);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        }</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;cancelTransaction&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">     * Attempts to void the transaction.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">     * @param transaction The transaction to void.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * @return A status object indicating if the void command was issued properly. Events regarding</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     * the void itself are sent to the registered listener(s).</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    @Override</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a228eb48255b069a00ca6c56cf53e2b04">  686</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a228eb48255b069a00ca6c56cf53e2b04">processVoid</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        logMethodUse(<span class="stringliteral">&quot;processVoid &quot;</span> + transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a2136d8a1f1dcb3a691153e011e0b98cd">getInvoiceId</a>());</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">return</span> getProxy().processVoid(transaction);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;processVoid&quot;</span>, e);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;processVoid&quot;</span>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">     * Attempts to refund the specific payment. If multiple payments were accepted in a transaction,</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">     * this method will need to be called individually for each payment, allowing the listener(s)</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">     * to better respond to the related events.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">     * @param payment  The payment to refund.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">     * @return The status object indicating if the refund command was issued properly. Events</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">     * regarding the refund itself are sent to the registered listener(s).</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    @Override</div><div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2813a4d230915c16c4f91efefbe19d84">  707</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2813a4d230915c16c4f91efefbe19d84">processRefund</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        logMethodUse(<span class="stringliteral">&quot;processRefund &quot;</span> + payment.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#a7226baf4b41d6de55d0c21aea3f5b896">getLocalPaymentId</a>());</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <span class="keywordflow">return</span> getProxy().processRefund(payment);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;processRefund&quot;</span>, e);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;processRefund&quot;</span>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">    /** Please use {@link #processRefund(Payment)} instead. */</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    @Deprecated</div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab997c51a14e5dfbf17b9847df5908074">  721</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab997c51a14e5dfbf17b9847df5908074">processRefund</a>(BigDecimal amount, String invoiceId, String currency) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        logMethodUse(<span class="stringliteral">&quot;processRefundOld &quot;</span> + invoiceId);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a> transaction = <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a17077e992c65efd697411459ca874945">getTransaction</a>();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a6e56a5c3a88a355de52bc8afe8ad9f59">setInvoiceId</a>(invoiceId);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#af7da404e329d19afc78025bdab9f3916">setCurrency</a>(currency);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        transaction.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a91206c94b55f2836604a59016d1e5708">setTransactionType</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">Transaction</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#ad6592a755815a8a349c49f0ef18714e5">REFUND_TYPE</a>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa08cba85b7931d885cd71080a3124b11">updateTransaction</a>(transaction);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a>();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        payment.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#a0ac4943c00e693e07e2c61b5a6dfa094">setPaymentAmount</a>(amount);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2813a4d230915c16c4f91efefbe19d84">processRefund</a>(payment);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">     * Activates a stored value card. Fires a {@link StoredValueCardEvent} to the listeners.</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">     * @param payment A payment object to provide the information needed. Use</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">     *                {@link Payment#setRequestedPaymentAmount(BigDecimal)} to define the amount</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">     *                to load, optionally use {@link Payment#setAuthCode(String)} to provide a</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">     *                reference auth code, and optionally use</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">     *                {@link Payment#setCardInformation(CardInformation)} to</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">     *                provide a {@link StoredValueCardInformation} object to provide further</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">     *                information about the stored value card.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    @Override</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a85e9ff4b2c8e7818a7e77a70e7753a65">  744</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a85e9ff4b2c8e7818a7e77a70e7753a65">activateStoredValueCard</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        logMethodUse(<span class="stringliteral">&quot;activateStoredValueCard&quot;</span>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">if</span> (payment == null)</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event.html">TransactionEvent</a>.getGeneralErrorEvent(null,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                                         <span class="stringliteral">&quot;Unable to perform activateStoredValueCard &quot;</span> +</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                                                         <span class="stringliteral">&quot;with a null payment object.&quot;</span>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <span class="keywordflow">return</span> getProxy().activateStoredValueCard(payment);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;activateStoredValueCard&quot;</span>, e);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;activateStoredValueCard&quot;</span>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">     * Loads an amount on to an existing stored value card. Refer to</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">     * {@link #activateStoredValueCard(Payment)}.</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    @Override</div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa46af0f5d9b0f02d7726aef13f44aeac">  765</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa46af0f5d9b0f02d7726aef13f44aeac">loadStoredValueCard</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        logMethodUse(<span class="stringliteral">&quot;loadStoredValueCard&quot;</span>);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (payment == null)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event.html">TransactionEvent</a>.getGeneralErrorEvent(null,</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                                         <span class="stringliteral">&quot;Unable to perform loadStoredValueCard &quot;</span> +</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                                         <span class="stringliteral">&quot;with a null payment object.&quot;</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="keywordflow">return</span> getProxy().loadStoredValueCard(payment);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;loadStoredValueCard&quot;</span>, e);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;loadStoredValueCard&quot;</span>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">     * Removes the requested amount from the stored value card. Refer to</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">     * {@link #activateStoredValueCard(Payment)}.</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">     * @param payment If this is null or {@link Payment#getRequestedPaymentAmount()} is not set,</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">     *                the entire available balance will be removed from the card, sometimes</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">     *                requiring a balance inquiry before performing the unload. If</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">     *                {@link Payment#getRequestedPaymentAmount()} is set to an amount, attempts</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">     *                to remove that amount from the card.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    @Override</div><div class="line"><a name="l00791"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7babca7f9d140acfa72f0ab47045cacf">  791</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7babca7f9d140acfa72f0ab47045cacf">unloadStoredValueCard</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a> payment) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        logMethodUse(<span class="stringliteral">&quot;unloadStoredValueCard&quot;</span>);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">// We can&#39;t pass a null parcelable through AIDL, so we make an empty payment object.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">if</span> (payment == null) payment = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">Payment</a>();</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <span class="keywordflow">return</span> getProxy().unloadStoredValueCard(payment);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;unloadStoredValueCard&quot;</span>, e);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;unloadStoredValueCard&quot;</span>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">     * Retrieves the current balance for a stored value card. Fires a</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">     * {@link StoredValueCardEvent} to the listeners.</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">     * @param cardInformation Optionally pass card information to use when fetching the balance.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">     *                        Use {@link StoredValueCardInformation#setType(String)} to define</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">     *                        the type of card for which we are checking the balance. Use</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">     *                        {@link StoredValueCardInformation#setCardPan(String)} or</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">     *                        {@link StoredValueCardInformation#setCardToken(String)} to pass in</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">     *                        the information about the card to be checked.</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    @Override</div><div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa45d660d9df9e128a8ff9806933cd9c1">  816</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa45d660d9df9e128a8ff9806933cd9c1">getStoredValueCardBalance</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_stored_value_card_information.html">StoredValueCardInformation</a> cardInformation) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        logMethodUse(<span class="stringliteral">&quot;getStoredValueCardBalance&quot;</span>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (cardInformation == null)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            cardInformation = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_stored_value_card_information.html">StoredValueCardInformation</a>();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        </div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">return</span> getProxy().getStoredValueCardBalance(cardInformation);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;getStoredValueCardBalance&quot;</span>, e);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;getStoredValueCardBalance&quot;</span>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">    /** Use {@link #presentReceiptDeliveryOptions(int[], String, String)} instead. */</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    @Deprecated</div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a457532ed0f63844668ad03f2b34de2f2">  833</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a457532ed0f63844668ad03f2b34de2f2">determineReceiptDeliveryMethod</a>(<span class="keywordtype">int</span>[] availableDeliveryMethods,</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                                 String customerPhone,</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                                 String customerEmail) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7c1653f5477a1afc9752eaa2ef16a563">presentReceiptDeliveryOptions</a>(availableDeliveryMethods,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                             customerPhone,</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                                             customerEmail);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">     * Allows the customer to choose how they would prefer to receive the receipt, and displays</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">     * the appropriate choices to the customer.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">     * @param availableDeliveryMethods The delivery methods that the POS application can support.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">     * @param customerPhone A phone number to pre-propulate the relevant field, or null.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">     * @param customerEmail An email address to pre-populate the relevant field, or null.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">     * @return The status of the request to the payment terminal. The selection of the receipt</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">     * delivery method is sent to the register listener(s) in the appropriate</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">     * {@link ReceiptDeliveryMethodEvent ReceiptDeliveryMethodEvent}.</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    @Override</div><div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7c1653f5477a1afc9752eaa2ef16a563">  852</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7c1653f5477a1afc9752eaa2ef16a563">presentReceiptDeliveryOptions</a>(<span class="keywordtype">int</span>[] availableDeliveryMethods,</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                                                String customerPhone,</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                                                String customerEmail) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        logMethodUse(<span class="stringliteral">&quot;presentReceiptDeliveryOptions&quot;</span>);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <span class="keywordflow">return</span> getProxy().presentReceiptDeliveryOptions(availableDeliveryMethods,</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                                                customerPhone,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                                                customerEmail);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;presentReceiptDeliveryOptions&quot;</span>, e);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;presentReceiptDeliveryOptions&quot;</span>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">     * Presents button options to the user and relaying the selected option back to the listener.</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">     * This does not automatically include a back/exit/cancel option.</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">     * EPAS reference 4.5.3 Input, 4.5.3.1 Processing Overview. For #1 Reading Confirmation</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">     * (GetAnyKey), pass a header with a null or empty array of button labels. For #2 Asks a</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">     * Question (GetConfirmation, SiteManager), pass two buttons with the appropriate values.</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">     * For #4 Select an Item in a Menu (GetMenuEntry), pass any number of buttons.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">     * SCA reference Customer Buttons. Automatically breaks the header into the appropriate</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">     * maximum lengths using word wrapping. Supports up to 6 header lines followed by 6 buttons.</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">     * @param header The message to be displayed to the user, preferably providing context for</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">     *               the user to select the correct option. This is optional.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">     * @param buttonLabels An array of button labels presented to the user. The corresponding</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">     *                     event returns the index of the button selected based on this array.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">     *                     This is required.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">     * @return The status of the request to the payment terminal. The selected option is returned</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">     * in the appropriate {@link UserOptionSelectedEvent UserOptionSelectedEvent}.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    @Override</div><div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb35543f0d44831da4c0a0762d3ecffa">  889</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb35543f0d44831da4c0a0762d3ecffa">presentUserOptions</a>(String header, String[] buttonLabels) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        logMethodUse(<span class="stringliteral">&quot;presentUserOptions&quot;</span>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <span class="keywordflow">return</span> getProxy().presentUserOptions(header, buttonLabels);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;presentUserOptions&quot;</span>, e);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;presentUserOptions&quot;</span>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">     * Presents the user with a screen to collect information, specially formatting the keyboard</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">     * and display based on the input type.</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">     * @param inputType The type of input requested from the user. This is required.</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">     * @param message The message to display to the user to provide context for the input. This</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">     *                is optional.</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">     * @param defaultValue The default value for the input field. This is optional.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">     * @return The status of the request to the payment terminal. The input value is returned</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">     * in the appropriate {@link UserInputEvent UserInputEvent}.</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    @Override</div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6b8ece7941816dc6418c585788b1ea5b">  912</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6b8ece7941816dc6418c585788b1ea5b">requestUserInput</a>(String inputType, String message, String defaultValue) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        logMethodUse(<span class="stringliteral">&quot;requestUserInput(&quot;</span> + inputType + <span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="keywordflow">return</span> getProxy().requestUserInput(inputType, message, defaultValue);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;requestUserInput&quot;</span>, e);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;requestUserInput&quot;</span>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">     * Asks the terminal to collect card information from the user and return a token for the</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">     * information. In some regions, this can also be called after the payment has started to</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">     * generate a token for the card that is currently being used for payment, instead of</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">     * requiring a separate card entry action.</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">     * @return The status of the request to the terminal.</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    @Override</div><div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aebae16355e554063d865be4be1c62005">  932</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aebae16355e554063d865be4be1c62005">requestCardToken</a>() {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        logMethodUse(<span class="stringliteral">&quot;requestCardToken&quot;</span>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <span class="keywordflow">return</span> getProxy().requestCardToken();</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;requestCardToken&quot;</span>, e);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;requestCardToken&quot;</span>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">     * Returns the information requested from the terminal, such as updating configuration options</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">     * or performing similar administrative tasks.</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    @Override</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae6cb4117dfd20d53d5b374cc817f39d7">  949</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae6cb4117dfd20d53d5b374cc817f39d7">sendInputResponse</a>(Bundle inputResponse) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;sendInputResponse&quot;</span>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                <span class="keywordflow">return</span> getProxy().sendInputResponse(inputResponse);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(methodContext, e);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(methodContext);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">     * Updates the display with arbitrary content. Please prefer the commands in the</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">     * {@link BasketManager} to control the line item display, or the</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">     * {@link #requestUserInput(String, String, String)} or</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">     * {@link #presentUserOptions(String, String[])} for interacting with the customer.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    @Override</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a4630bd305f80046778b3bcd5135feac2">  969</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a4630bd305f80046778b3bcd5135feac2">updateDisplay</a>(<a class="code" href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_output_content.html">OutputContent</a> outputContent){</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;updateDisplay&quot;</span>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                <span class="keywordflow">return</span> getProxy().updateDisplay(outputContent);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(methodContext, e);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(methodContext);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">     * Formerly returned the status when printing something on behalf of the terminal.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    @Deprecated</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    @Override</div><div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a74f20d5037f9e4105d18f6fda97b5694">  987</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a74f20d5037f9e4105d18f6fda97b5694">sendPrintResponse</a>(String result) {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;sendPrintResponse&quot;</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <span class="keywordflow">return</span> getProxy().sendPrintResponse(result);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(methodContext, e);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(methodContext);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">     * Immediately returns the current state of the communication between the Android device and</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">     * the payment terminal. This may change based on messages already sent but not yet handled.</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    @Override</div><div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acab2aa3b4ab85bf3cd20fd40ff76c099"> 1005</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acab2aa3b4ab85bf3cd20fd40ff76c099">getState</a>() {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keyword">final</span> String methodContext = <span class="stringliteral">&quot;getState&quot;</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        logMethodUse(methodContext);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <span class="keywordflow">return</span> getProxy().getState();</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(methodContext, e);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(methodContext);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">     * Aborts the most recent command, but does not reset the session unless aborting the</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">     * startSession call. If a new invoice ID is needed, or a new cart, end the session or purge</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">     * the basket, respectively.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">     * @return A status object indicating if the command was issued properly. Events regarding the</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">     * effect of the command are sent to the registered listener(s).</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    @Override</div><div class="line"><a name="l01026"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad5e5eee1ea0e512e8b8a1dea431e2377"> 1026</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad5e5eee1ea0e512e8b8a1dea431e2377">abort</a>() {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        logMethodUse(<span class="stringliteral">&quot;abort&quot;</span>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordflow">return</span> getProxy().abort();</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">return</span> errorStatusForException(<span class="stringliteral">&quot;abort&quot;</span>, e);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">return</span> errorStatusMissingProxy(<span class="stringliteral">&quot;abort&quot;</span>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">     * Please use the {@link #abort()} method instead.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    @Deprecated</div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a009f2c01c898db184cf8f827e91030c2"> 1042</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a009f2c01c898db184cf8f827e91030c2">sendAbortRequest</a>() {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad5e5eee1ea0e512e8b8a1dea431e2377">abort</a>();</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">     * Sends a direct message to the terminal through the service.</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">     * Examples:</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">     * Request / Response for SCA Session Start</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">     * {@code &lt;TRANSACTION&gt;&lt;FUNCTION_TYPE&gt;SESSION&lt;/FUNCTION_TYPE&gt;&lt;COMMAND&gt;START&lt;/COMMAND&gt;&lt;COUNTER&gt;1&lt;/COUNTER&gt;&lt;MAC&gt;6kQVBRHpYfrbf7BwUK7ZBFkY5IU3C6dHzzTRus/EyDI=&lt;/MAC&gt;&lt;MAC_LABEL&gt;P_Z5KQJR&lt;/MAC_LABEL&gt;&lt;TRAINING_MODE&gt;ON&lt;/TRAINING_MODE&gt;&lt;INVOICE&gt;2S9OBR&lt;/INVOICE&gt;&lt;/TRANSACTION&gt;}</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">     * {@code &lt;RESPONSE&gt;&lt;RESPONSE_TEXT&gt;SESSION started&lt;/RESPONSE_TEXT&gt;&lt;RESULT&gt;OK&lt;/RESULT&gt;&lt;RESULT_CODE&gt;-1&lt;/RESULT_CODE&gt;&lt;TERMINATION_STATUS&gt;SUCCESS&lt;/TERMINATION_STATUS&gt;&lt;COUNTER&gt;1&lt;/COUNTER&gt;&lt;/RESPONSE&gt;}</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">     * Request / Response for SCA Session Finish</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">     * {@code &lt;TRANSACTION&gt;&lt;FUNCTION_TYPE&gt;SESSION&lt;/FUNCTION_TYPE&gt;&lt;COMMAND&gt;FINISH&lt;/COMMAND&gt;&lt;COUNTER&gt;2&lt;/COUNTER&gt;&lt;MAC&gt;s64RROfvmu81Ws1Wg+E+HlOacgS3BMr0LC0dyVpjhFI=&lt;/MAC&gt;&lt;MAC_LABEL&gt;P_Z5KQJR&lt;/MAC_LABEL&gt;&lt;/TRANSACTION&gt;}</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">     * {@code &lt;RESPONSE&gt;&lt;RESPONSE_TEXT&gt;SESSION finished&lt;/RESPONSE_TEXT&gt;&lt;RESULT&gt;OK&lt;/RESULT&gt;&lt;RESULT_CODE&gt;-1&lt;/RESULT_CODE&gt;&lt;TERMINATION_STATUS&gt;SUCCESS&lt;/TERMINATION_STATUS&gt;&lt;COUNTER&gt;2&lt;/COUNTER&gt;&lt;/RESPONSE&gt;}</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a08754a7e8f362d3b8daa6f254fa6a51d"> 1057</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a08754a7e8f362d3b8daa6f254fa6a51d">sendDirectMessage</a>(String message) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a08754a7e8f362d3b8daa6f254fa6a51d">sendDirectMessage</a>(message, null, 0);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">     * Refer to {@link #sendDirectMessage(String)} for exampels and information.</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">     * @param message The message to be sent.</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">     * @param ipAddress The ipAddress to target. This should generally be passed as null,</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">     *                  allowing the device to automatically choose the correct address for the</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">     *                  payment terminal.</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">     * @param port The port to use when communicating. This can be set to 0, allowing the device</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">     *             to determine the port to use for the protocol, but this may need to change</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">     *             based on the message type or other functionality.</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">     * @return The response from the payment terminal for the given message.</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    @Override</div><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a75c24693cdac72df04ab6c961b99a69b"> 1073</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a75c24693cdac72df04ab6c961b99a69b">sendDirectMessage</a>(String message, String ipAddress, <span class="keywordtype">int</span> port) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        logMethodUse(<span class="stringliteral">&quot;sendDirectMessage&quot;</span>);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                <span class="keywordflow">return</span> getProxy().sendDirectMessage(message, ipAddress, port);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a> directResponse = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a>();</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                directResponse.setResponse(<span class="stringliteral">&quot;Unable to communicate with the service.&quot;</span>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                directResponse.setException(e);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <span class="keywordflow">return</span> directResponse;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a> directResponse = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">DirectResponse</a>();</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            directResponse.setResponse(<span class="stringliteral">&quot;Not bound to the service.&quot;</span>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <span class="keywordflow">return</span> directResponse;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">     * Allows the service to be set to a different mode, allowing automated testing and other</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">     * similar tasks.</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">     * @param mode One of the debug modes from the CommerceConstants.</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    @Override</div><div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af82b53f04281226af025089e8925090c"> 1097</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af82b53f04281226af025089e8925090c">setDebugMode</a>(<span class="keywordtype">int</span> mode) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        logMethodUse(<span class="stringliteral">&quot;setDebugMode&quot;</span>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                getProxy().setDebugMode(mode);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                Log.w(TAG, <span class="stringliteral">&quot;Unable to set debug mode. &quot;</span> + e.getMessage());</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;setDebugMode&quot;</span>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">     * A map of recognized debug parameters. Reference the DEBUG constants for more information.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">     * Some regions may include additional constants not defined in this file, but these may be</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">     * recognized by the underlying service as appropriate. Any unrecognized keys will be ignored.</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    @Override</div><div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a770dd95a452120c8fe946ce986e18abd"> 1116</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a770dd95a452120c8fe946ce986e18abd">setDebugParams</a>(Map debugParams) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        logMethodUse(<span class="stringliteral">&quot;setDebugParams&quot;</span>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                getProxy().setDebugParams(debugParams);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                Log.w(TAG, <span class="stringliteral">&quot;Unable to set debug parameters. &quot;</span> + e.getMessage());</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;setDebugParams&quot;</span>);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">     * A map of recognized device parameters. Reference the DEVICE constants for more information.</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">     * Some regions may include additional constants not defined in this file, but these may be</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">     * recognized by the underlying service as appropriate. Any unrecognized keys will be ignored.</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    @Override</div><div class="line"><a name="l01135"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad140bcbb58504ffceb6c94ccd35442ec"> 1135</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad140bcbb58504ffceb6c94ccd35442ec">setDeviceParams</a>(Map deviceParams) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        logMethodUse(<span class="stringliteral">&quot;setDeviceParams&quot;</span>);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                getProxy().setDeviceParams(deviceParams);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Unable to set device parameters. &quot;</span>, e);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;setDeviceParams&quot;</span>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">    /** Please use {@link #setDeviceParams(Map)} instead, using the appropriate DEVICE key constants. */</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    @Deprecated</div><div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2e8a6a494da33d5ef3b0448a30ae8836"> 1150</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2e8a6a494da33d5ef3b0448a30ae8836">setDeviceParams</a>(String ip, <span class="keywordtype">int</span> port, String prot) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        HashMap&lt;String, Object&gt; deviceParams = <span class="keyword">new</span> HashMap&lt;&gt;(3);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        deviceParams.put(DEVICE_IP_ADDRESS_KEY, ip);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        deviceParams.put(DEVICE_PORT_KEY, port);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        deviceParams.put(DEVICE_PROTOCOL_KEY, prot);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad140bcbb58504ffceb6c94ccd35442ec">setDeviceParams</a>(deviceParams);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">     * The method to get an appropriate concrete implementation of the Report Manager.</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">     * @return A concrete implementation of the report manager.</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    @Override</div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2693165e3cda9b3b9b747a76b1f1b677"> 1163</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager.html">ReportManager</a> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2693165e3cda9b3b9b747a76b1f1b677">getReportManager</a>() {</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        logMethodUse(<span class="stringliteral">&quot;getReportManager&quot;</span>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager.html">ReportManager</a> manager = null;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                IReportManager iManager = getProxy().getReportManager();</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="keywordflow">if</span> (iManager != null)</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                    manager = <span class="keyword">new</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager.html">ReportManager</a>(iManager);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                Log.e(TAG, <span class="stringliteral">&quot;Unable to retrieve report manager. Please make sure the service is &quot;</span> +</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                           <span class="stringliteral">&quot;still properly bound and active.&quot;</span>, e);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            warnMissingProxy(<span class="stringliteral">&quot;getReportManager&quot;</span>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">return</span> manager;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">     * Returns the wrapped proxy binder. This should only be called by the system, never explicitly.</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    @Override</div><div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9cbeec3e0782569e05fb85a33e571e1d"> 1185</a></span>&#160;    <span class="keyword">public</span> IBinder <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9cbeec3e0782569e05fb85a33e571e1d">asBinder</a>() {</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">if</span> (getProxy() != null)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <span class="keywordflow">return</span> getProxy().asBinder();</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">     * The implementation of the Death Recipient, triggering an attempt to automatically recover.</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">     * This should only be triggered in the event of an unexpected disconnection, as we unlink</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">     * during teardown before we unbind.</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    @Override</div><div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a29ace6c95d258eeec12fad4dea814981"> 1198</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a29ace6c95d258eeec12fad4dea814981">binderDied</a>() {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        logMethodUse(<span class="stringliteral">&quot;binderDied&quot;</span>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        mProxy = null;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        getProxy();</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">boolean</span> isLinkedToDeath;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keyword">private</span> Context mContext;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keyword">private</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">TransactionManager</a>(Context context, Map deviceParams) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        isLinkedToDeath = <span class="keyword">false</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        mContext = context.getApplicationContext();</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        getProxy(deviceParams); <span class="comment">// Initiates the process to connect the proxy.</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">    /** Convenience method to log method access for analytics. */</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> logMethodUse(String methodContext) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        Log.i(TAG, <span class="stringliteral">&quot;SDK VFITS &quot;</span> + methodContext + <span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">     * Returns the proxy if connected and valid, otherwise starts the process to get the proxy,</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">     * blocking if called from a non-main thread until the proxy is obtained. This should be the</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">     * only way that the proxy is accessed, as it provides the recovery and proper check</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">     * mechanisms to make sure the proxy can be called.</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    @Nullable</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keyword">private</span> ITransactionManager getProxy() {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">return</span> getProxy(null);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">     * Refer to {@link #getProxy()}. Automatically sets the device parameters on the proxy if</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment">     * passed, providing a more convenient way to specify a protocol or other values when first</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">     * binding to the service.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    @Nullable</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keyword">private</span> ITransactionManager getProxy(Map deviceParams) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordtype">boolean</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad140bcbb58504ffceb6c94ccd35442ec">setDeviceParams</a> = (deviceParams != null);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">TransactionServiceConnector</a>.isConnectionValid(mProxy)) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            Log.d(TAG, <span class="stringliteral">&quot;getProxy not valid.&quot;</span>);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            mProxy = null;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            setDeviceParams = <span class="keyword">false</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            ITransactionManager transactionBinder =</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                      <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">TransactionServiceConnector</a>.<a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a37e59c2492cc509f79237d58f37c64cd">getTransactionBinder</a>(mContext, deviceParams);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a20f1766e3ce9a34f2870b14c4b371754">linkToBinder</a>(transactionBinder);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isLinkedToDeath) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                mProxy.asBinder().linkToDeath(<span class="keyword">this</span>, 0);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                isLinkedToDeath = <span class="keyword">true</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                Log.w(TAG, <span class="stringliteral">&quot;Unable to link to transaction manager binder death. &quot;</span> + e.getMessage());</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            }</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordflow">if</span> (setDeviceParams) {</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                mProxy.setDeviceParams(deviceParams);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            } <span class="keywordflow">catch</span> (RemoteException e) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                Log.w(TAG, <span class="stringliteral">&quot;Unable to set the device parameters. &quot;</span> + e.getMessage());</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keywordflow">return</span> mProxy;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keyword">private</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> errorStatusForException(String method, Exception e) {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        errorOccurred(method, e);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event.html">TransactionEvent</a>.getGeneralErrorEvent(null,</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                                                     <span class="stringliteral">&quot;Unable to perform &quot;</span> + method +</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                                                     <span class="stringliteral">&quot; with the service. &quot;</span> + e.getMessage());</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keyword">private</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1_status.html">Status</a> errorStatusMissingProxy(String method) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        errorOccurred(method + <span class="stringliteral">&quot; missing proxy.&quot;</span>, null);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event.html">TransactionEvent</a>.getGeneralErrorEvent(null,</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                                                     <span class="stringliteral">&quot;Unable to perform &quot;</span> + method + <span class="stringliteral">&quot;. &quot;</span> +</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                                     <span class="stringliteral">&quot;The service is not bound.&quot;</span>);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> warnMissingProxy(@NonNull String method) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        Log.w(TAG, <span class="stringliteral">&quot;Unable to perform &quot;</span> + method + <span class="stringliteral">&quot;. &quot;</span> + <span class="stringliteral">&quot;The service is not bound.&quot;</span>);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    </div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> errorOccurred(@NonNull String method, @Nullable Exception e) {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        String message = <span class="stringliteral">&quot;SDK VFITS Exception &quot;</span> + method + <span class="stringliteral">&quot;. &quot;</span>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="keywordflow">if</span> (e != null) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            message += e.getMessage();</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        Log.e(TAG, message);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div><div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_direct_response.html">com.verifone.commerce.payment.DirectResponse</a></div><div class="ttdoc">Used for sending a direct message to the terminal and getting a response back. </div><div class="ttdef"><b>Definition:</b> <a href="_direct_response_8java_source.html#l00010">DirectResponse.java:10</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a053ef8a15e1db011ae899141784f17be"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a053ef8a15e1db011ae899141784f17be">com.verifone.commerce.payment.TransactionManager.removeSessionListener</a></div><div class="ttdeci">boolean removeSessionListener(ICommerceListener listener)</div><div class="ttdoc">Refer to removeSessionListener(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00488">TransactionManager.java:488</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a45bc6a8845c24b7b77e6d310a6797523"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a45bc6a8845c24b7b77e6d310a6797523">com.verifone.commerce.payment.TransactionManager.getBasketManager</a></div><div class="ttdeci">BasketManager getBasketManager()</div><div class="ttdoc">The method to get an appropriate concrete implementation of the Basket Manager. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00594">TransactionManager.java:594</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a17077e992c65efd697411459ca874945"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a17077e992c65efd697411459ca874945">com.verifone.commerce.payment.TransactionManager.getTransaction</a></div><div class="ttdeci">Transaction getTransaction()</div><div class="ttdoc">Gets the most recent transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00556">TransactionManager.java:556</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_a0d4c45f74de1cbc3ca38c16a71252e05"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a0d4c45f74de1cbc3ca38c16a71252e05">com.verifone.commerce.entities.Transaction.PAYMENT_TYPE</a></div><div class="ttdeci">static final String PAYMENT_TYPE</div><div class="ttdoc">A direct payment, attempting to collect the funds in full at once. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00034">Transaction.java:34</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_abe5f2880909dea4c2d06e458202d655c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abe5f2880909dea4c2d06e458202d655c">com.verifone.commerce.payment.TransactionManager.DEVICE_IP_ADDRESS_KEY</a></div><div class="ttdeci">static final String DEVICE_IP_ADDRESS_KEY</div><div class="ttdoc">The device parameters key to set which IP address to use for the device. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00067">TransactionManager.java:67</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html">com.verifone.commerce.payment.TransactionServiceConnector</a></div><div class="ttdoc">Manages the binding and unbinding from the underlying service, and attaching of the appropriate Trans...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_service_connector_8java_source.html#l00028">TransactionServiceConnector.java:28</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a161118b3fbeec3013e919f3bb30e2f4c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a161118b3fbeec3013e919f3bb30e2f4c">com.verifone.commerce.payment.TransactionManager.TRANSACTION_PROCESSING</a></div><div class="ttdeci">static final int TRANSACTION_PROCESSING</div><div class="ttdoc">Refer to STATE_SESSION_OPEN. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00157">TransactionManager.java:157</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a879914dc7f40e6639546d180101c6c40"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a879914dc7f40e6639546d180101c6c40">com.verifone.commerce.payment.TransactionManager.removeSessionListener</a></div><div class="ttdeci">boolean removeSessionListener(CommerceListener listener)</div><div class="ttdoc">Removes a session listener. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00432">TransactionManager.java:432</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a5cb78c56644cf129369fdee8964ed47c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5cb78c56644cf129369fdee8964ed47c">com.verifone.commerce.payment.TransactionManager.endSession</a></div><div class="ttdeci">boolean endSession()</div><div class="ttdoc">Ends a session. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00536">TransactionManager.java:536</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment_html_a7226baf4b41d6de55d0c21aea3f5b896"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#a7226baf4b41d6de55d0c21aea3f5b896">com.verifone.commerce.entities.Payment.getLocalPaymentId</a></div><div class="ttdeci">String getLocalPaymentId()</div><div class="ttdoc">Refer to setLocalPaymentId(String paymentId). </div><div class="ttdef"><b>Definition:</b> <a href="_payment_8java_source.html#l00161">Payment.java:161</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ae77c1949681bf2fa603715f1a0605832"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae77c1949681bf2fa603715f1a0605832">com.verifone.commerce.payment.TransactionManager.DEBUG_FAIL_EVENT_TYPES_KEY</a></div><div class="ttdeci">static final String DEBUG_FAIL_EVENT_TYPES_KEY</div><div class="ttdoc">The debug parameters key to set which types of events should be arbitrarily returned as failed...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00062">TransactionManager.java:62</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a7c1653f5477a1afc9752eaa2ef16a563"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7c1653f5477a1afc9752eaa2ef16a563">com.verifone.commerce.payment.TransactionManager.presentReceiptDeliveryOptions</a></div><div class="ttdeci">Status presentReceiptDeliveryOptions(int[] availableDeliveryMethods, String customerPhone, String customerEmail)</div><div class="ttdoc">Allows the customer to choose how they would prefer to receive the receipt, and displays the appropri...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00852">TransactionManager.java:852</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aa46af0f5d9b0f02d7726aef13f44aeac"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa46af0f5d9b0f02d7726aef13f44aeac">com.verifone.commerce.payment.TransactionManager.loadStoredValueCard</a></div><div class="ttdeci">Status loadStoredValueCard(Payment payment)</div><div class="ttdoc">Loads an amount on to an existing stored value card. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00765">TransactionManager.java:765</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aed13194450caa0849e696612859643ab"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aed13194450caa0849e696612859643ab">com.verifone.commerce.payment.TransactionManager.INPUT_TYPE_TEXT</a></div><div class="ttdeci">static final String INPUT_TYPE_TEXT</div><div class="ttdoc">This is input type const for requestUserInput(String, String, String) method. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00178">TransactionManager.java:178</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a50ad7aab3d664a5c0025d74aad65c1ab"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a50ad7aab3d664a5c0025d74aad65c1ab">com.verifone.commerce.payment.TransactionManager.STATE_SESSION_OPENING</a></div><div class="ttdeci">static final String STATE_SESSION_OPENING</div><div class="ttdoc">A session is currently being opened. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00137">TransactionManager.java:137</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a009f2c01c898db184cf8f827e91030c2"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a009f2c01c898db184cf8f827e91030c2">com.verifone.commerce.payment.TransactionManager.sendAbortRequest</a></div><div class="ttdeci">Status sendAbortRequest()</div><div class="ttdoc">Please use the abort() method instead. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01042">TransactionManager.java:1042</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a9389ad19ca0103882dea2c347e337811"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9389ad19ca0103882dea2c347e337811">com.verifone.commerce.payment.TransactionManager.INPUT_TYPE_SIGNATURE</a></div><div class="ttdeci">static final String INPUT_TYPE_SIGNATURE</div><div class="ttdoc">This is input type const for requestUserInput(String, String, String) method. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00162">TransactionManager.java:162</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a9f54624c3814bbf1b55649eef6aff531"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9f54624c3814bbf1b55649eef6aff531">com.verifone.commerce.payment.TransactionManager.addGeneralListener</a></div><div class="ttdeci">boolean addGeneralListener(ICommerceListener listener)</div><div class="ttdoc">Refer to addGeneralListener(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00337">TransactionManager.java:337</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a8dc850c0820f749b9acf87d93ff3f7c8"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a8dc850c0820f749b9acf87d93ff3f7c8">com.verifone.commerce.payment.TransactionManager.addSessionListener</a></div><div class="ttdeci">boolean addSessionListener(CommerceListener listener)</div><div class="ttdoc">Allows adding new listeners for session events. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00422">TransactionManager.java:422</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ac2a7d0c89911c7df64b47e90178a460e"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac2a7d0c89911c7df64b47e90178a460e">com.verifone.commerce.payment.TransactionManager.resumeSession</a></div><div class="ttdeci">boolean resumeSession(ICommerceListener listener, String sessionId)</div><div class="ttdoc">Refer to resumeSession(CommerceListener, String). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00456">TransactionManager.java:456</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a211b28a8e4000feec599c9bd6aede57c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a211b28a8e4000feec599c9bd6aede57c">com.verifone.commerce.payment.TransactionManager.startPayment</a></div><div class="ttdeci">Status startPayment(Payment payment)</div><div class="ttdoc">Starts a payment for the current transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00622">TransactionManager.java:622</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1reports_1_1_report_manager.html">com.verifone.commerce.payment.reports.ReportManager</a></div><div class="ttdoc">Requests various types of reports and other status information. </div><div class="ttdef"><b>Definition:</b> <a href="_report_manager_8java_source.html#l00016">ReportManager.java:16</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_af82b53f04281226af025089e8925090c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af82b53f04281226af025089e8925090c">com.verifone.commerce.payment.TransactionManager.setDebugMode</a></div><div class="ttdeci">void setDebugMode(int mode)</div><div class="ttdoc">Allows the service to be set to a different mode, allowing automated testing and other similar tasks...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01097">TransactionManager.java:1097</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment_html_adc2e3553bb8dfd9125914d864a3a75c8"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#adc2e3553bb8dfd9125914d864a3a75c8">com.verifone.commerce.entities.Payment.setRequestedPaymentAmount</a></div><div class="ttdeci">void setRequestedPaymentAmount(BigDecimal requestedPaymentAmount)</div><div class="ttdoc">Set the amount for which to request payment. </div><div class="ttdef"><b>Definition:</b> <a href="_payment_8java_source.html#l00373">Payment.java:373</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a9cbeec3e0782569e05fb85a33e571e1d"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9cbeec3e0782569e05fb85a33e571e1d">com.verifone.commerce.payment.TransactionManager.asBinder</a></div><div class="ttdeci">IBinder asBinder()</div><div class="ttdoc">Returns the wrapped proxy binder. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01185">TransactionManager.java:1185</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a08754a7e8f362d3b8daa6f254fa6a51d"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a08754a7e8f362d3b8daa6f254fa6a51d">com.verifone.commerce.payment.TransactionManager.sendDirectMessage</a></div><div class="ttdeci">DirectResponse sendDirectMessage(String message)</div><div class="ttdoc">Sends a direct message to the terminal through the service. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01057">TransactionManager.java:1057</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a5e272c353033e2bb227e704a78b4e84f"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e272c353033e2bb227e704a78b4e84f">com.verifone.commerce.payment.TransactionManager.resumeSession</a></div><div class="ttdeci">boolean resumeSession(CommerceListener listener, String sessionId)</div><div class="ttdoc">Not currently supported. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00412">TransactionManager.java:412</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_af2295fbac034bef7e8d1353050f32f47"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af2295fbac034bef7e8d1353050f32f47">com.verifone.commerce.payment.TransactionManager.SESSION_SERVICE_CONNECTING</a></div><div class="ttdeci">static final int SESSION_SERVICE_CONNECTING</div><div class="ttdoc">Please use STATE_LOGGING_IN. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00148">TransactionManager.java:148</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a29ace6c95d258eeec12fad4dea814981"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a29ace6c95d258eeec12fad4dea814981">com.verifone.commerce.payment.TransactionManager.binderDied</a></div><div class="ttdeci">void binderDied()</div><div class="ttdoc">The implementation of the Death Recipient, triggering an attempt to automatically recover...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01198">TransactionManager.java:1198</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aaabc6a0d5658d426a86a6fa1fc278370"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aaabc6a0d5658d426a86a6fa1fc278370">com.verifone.commerce.payment.TransactionManager.DEVICE_APPLICATION_NAME_KEY</a></div><div class="ttdeci">static final String DEVICE_APPLICATION_NAME_KEY</div><div class="ttdoc">Allows the calling Android application to provide an application name, sometimes used for certificati...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00108">TransactionManager.java:108</a></div></div>
<div class="ttc" id="namespacecom_html"><div class="ttname"><a href="namespacecom.html">com</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1_commerce_listener_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1_commerce_listener.html">com.verifone.commerce.CommerceListener</a></div><div class="ttdoc">The listener interface for session events. </div><div class="ttdef"><b>Definition:</b> <a href="_commerce_listener_8java_source.html#l00020">CommerceListener.java:20</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aa2c7fcf8b1936f30c6606453e2eef8cf"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa2c7fcf8b1936f30c6606453e2eef8cf">com.verifone.commerce.payment.TransactionManager.SESSION_CLOSED</a></div><div class="ttdeci">static final int SESSION_CLOSED</div><div class="ttdoc">Please use STATE_NOT_LOGGED_IN. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00151">TransactionManager.java:151</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_af60db021c17d0185b5f4c11b2cbaf770"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#af60db021c17d0185b5f4c11b2cbaf770">com.verifone.commerce.payment.TransactionManager.DEVICE_PROTOCOL_NEXO</a></div><div class="ttdeci">static final String DEVICE_PROTOCOL_NEXO</div><div class="ttdoc">The protocol value when communicating using NEXO, supported for multiple regions. ...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00094">TransactionManager.java:94</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ad2bb29cecd84544131b5268848a2573f"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad2bb29cecd84544131b5268848a2573f">com.verifone.commerce.payment.TransactionManager.STATE_LOGGING_IN</a></div><div class="ttdeci">static final String STATE_LOGGING_IN</div><div class="ttdoc">A login has been initiated and is currently being attempted. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00131">TransactionManager.java:131</a></div></div>
<div class="ttc" id="namespacecom_1_1verifone_1_1commerce_1_1entities_html"><div class="ttname"><a href="namespacecom_1_1verifone_1_1commerce_1_1entities.html">com.verifone.commerce.entities</a></div><div class="ttdoc">Provides the basic entities needed when interacting with the payment application and transaction even...</div><div class="ttdef"><b>Definition:</b> <a href="_amount_adjustment_8java_source.html#l00010">AmountAdjustment.java:10</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a75c24693cdac72df04ab6c961b99a69b"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a75c24693cdac72df04ab6c961b99a69b">com.verifone.commerce.payment.TransactionManager.sendDirectMessage</a></div><div class="ttdeci">DirectResponse sendDirectMessage(String message, String ipAddress, int port)</div><div class="ttdoc">Refer to sendDirectMessage(String) for exampels and information. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01073">TransactionManager.java:1073</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a7babca7f9d140acfa72f0ab47045cacf"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a7babca7f9d140acfa72f0ab47045cacf">com.verifone.commerce.payment.TransactionManager.unloadStoredValueCard</a></div><div class="ttdeci">Status unloadStoredValueCard(Payment payment)</div><div class="ttdoc">Removes the requested amount from the stored value card. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00791">TransactionManager.java:791</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a457532ed0f63844668ad03f2b34de2f2"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a457532ed0f63844668ad03f2b34de2f2">com.verifone.commerce.payment.TransactionManager.determineReceiptDeliveryMethod</a></div><div class="ttdeci">Status determineReceiptDeliveryMethod(int[] availableDeliveryMethods, String customerPhone, String customerEmail)</div><div class="ttdoc">Use presentReceiptDeliveryOptions(int[], String, String) instead. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00833">TransactionManager.java:833</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a0c75e58b60e8de22f448bf5500b96ab2"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0c75e58b60e8de22f448bf5500b96ab2">com.verifone.commerce.payment.TransactionManager.SESSION_OPEN</a></div><div class="ttdeci">static final int SESSION_OPEN</div><div class="ttdoc">Please use STATE_LOGGED_IN. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00154">TransactionManager.java:154</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a85e9ff4b2c8e7818a7e77a70e7753a65"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a85e9ff4b2c8e7818a7e77a70e7753a65">com.verifone.commerce.payment.TransactionManager.activateStoredValueCard</a></div><div class="ttdeci">Status activateStoredValueCard(Payment payment)</div><div class="ttdoc">Activates a stored value card. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00744">TransactionManager.java:744</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a31ddefe89d82852fe13d3c1922c5502f"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a31ddefe89d82852fe13d3c1922c5502f">com.verifone.commerce.payment.TransactionManager.removeGeneralListener</a></div><div class="ttdeci">boolean removeGeneralListener(CommerceListener listener)</div><div class="ttdoc">Removes a listener for events that occur without an active session. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00358">TransactionManager.java:358</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html">com.verifone.commerce.entities.Payment</a></div><div class="ttdoc">Represents an individual payment within the context of the transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_payment_8java_source.html#l00032">Payment.java:32</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ac62d650802b6ac3afb82e813d8c5bb39"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac62d650802b6ac3afb82e813d8c5bb39">com.verifone.commerce.payment.TransactionManager.DEVICE_PROTOCOL_KEY</a></div><div class="ttdeci">static final String DEVICE_PROTOCOL_KEY</div><div class="ttdoc">The device parameters key to set if specifying a specific protocol to use when communicating with the...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00085">TransactionManager.java:85</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_a2136d8a1f1dcb3a691153e011e0b98cd"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a2136d8a1f1dcb3a691153e011e0b98cd">com.verifone.commerce.entities.Transaction.getInvoiceId</a></div><div class="ttdeci">String getInvoiceId()</div><div class="ttdoc">Refer to setInvoiceId(String invoice). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00177">Transaction.java:177</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a771ada0be6776d1ccf58ab11d5e266e3"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a771ada0be6776d1ccf58ab11d5e266e3">com.verifone.commerce.payment.TransactionManager.DEVICE_PROTOCOL_EPAS</a></div><div class="ttdeci">static final String DEVICE_PROTOCOL_EPAS</div><div class="ttdoc">The protocol value when communicating using EPAS, supported for multiple regions. ...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00089">TransactionManager.java:89</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a694c0259b3b559568544b9ac922e0248"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a694c0259b3b559568544b9ac922e0248">com.verifone.commerce.payment.TransactionManager.removeGeneralListener</a></div><div class="ttdeci">boolean removeGeneralListener(ICommerceListener listener)</div><div class="ttdoc">Refer to removeGeneralListener(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00364">TransactionManager.java:364</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ac0ace3ad4899730e1fc633f5935380db"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac0ace3ad4899730e1fc633f5935380db">com.verifone.commerce.payment.TransactionManager.getListeners</a></div><div class="ttdeci">List getListeners()</div><div class="ttdoc">Get the set of currently registered listeners. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00509">TransactionManager.java:509</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a2e8a6a494da33d5ef3b0448a30ae8836"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2e8a6a494da33d5ef3b0448a30ae8836">com.verifone.commerce.payment.TransactionManager.setDeviceParams</a></div><div class="ttdeci">void setDeviceParams(String ip, int port, String prot)</div><div class="ttdoc">Please use setDeviceParams(Map) instead, using the appropriate DEVICE key constants. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01150">TransactionManager.java:1150</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html">com.verifone.commerce.entities.Transaction</a></div><div class="ttdoc">This represents the data that is shared between the terminal and the Android application. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00032">Transaction.java:32</a></div></div>
<div class="ttc" id="namespacecom_1_1verifone_1_1commerce_html"><div class="ttname"><a href="namespacecom_1_1verifone_1_1commerce.html">com.verifone.commerce</a></div><div class="ttdoc">Provides the interface for all communication between the payment terminal and Android applications...</div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a074315277ccfc074ed3c83a8adaeed76"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a074315277ccfc074ed3c83a8adaeed76">com.verifone.commerce.payment.TransactionManager.STATE_UNKNOWN</a></div><div class="ttdeci">static final String STATE_UNKNOWN</div><div class="ttdoc">The current state is unknown or otherwise unrecognized. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00127">TransactionManager.java:127</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1_status_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1_status.html">com.verifone.commerce.Status</a></div><div class="ttdoc">The foundational Status class. </div><div class="ttdef"><b>Definition:</b> <a href="_status_8java_source.html#l00024">Status.java:24</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_abb3893d38c80e3a9b3802e8cf5e8fbd2"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb3893d38c80e3a9b3802e8cf5e8fbd2">com.verifone.commerce.payment.TransactionManager.logout</a></div><div class="ttdeci">Status logout()</div><div class="ttdoc">Logs out through the payment terminal. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00312">TransactionManager.java:312</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ad5e5eee1ea0e512e8b8a1dea431e2377"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad5e5eee1ea0e512e8b8a1dea431e2377">com.verifone.commerce.payment.TransactionManager.abort</a></div><div class="ttdeci">Status abort()</div><div class="ttdoc">Aborts the most recent command, but does not reset the session unless aborting the startSession call...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01026">TransactionManager.java:1026</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a4630bd305f80046778b3bcd5135feac2"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a4630bd305f80046778b3bcd5135feac2">com.verifone.commerce.payment.TransactionManager.updateDisplay</a></div><div class="ttdeci">Status updateDisplay(OutputContent outputContent)</div><div class="ttdoc">Updates the display with arbitrary content. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00969">TransactionManager.java:969</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_basket_manager_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_basket_manager.html">com.verifone.commerce.payment.BasketManager</a></div><div class="ttdoc">The manager for the basket attached to a transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_basket_manager_8java_source.html#l00022">BasketManager.java:22</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a20f1766e3ce9a34f2870b14c4b371754"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a20f1766e3ce9a34f2870b14c4b371754">com.verifone.commerce.payment.TransactionManager.linkToBinder</a></div><div class="ttdeci">static void linkToBinder(ITransactionManager transactionBinder)</div><div class="ttdoc">Use this method when bound to the service to link the Transaction Manager. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00214">TransactionManager.java:214</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a80eac80fa1f94a5cc941077321cfe3a4"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a80eac80fa1f94a5cc941077321cfe3a4">com.verifone.commerce.payment.TransactionManager.login</a></div><div class="ttdeci">Status login(@Nullable ICommerceListener listener, @Nullable String userId, @Nullable String password, @Nullable String shiftNumber)</div><div class="ttdoc">Refer to login(CommerceListener, String, String, String). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00291">TransactionManager.java:291</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ab997c51a14e5dfbf17b9847df5908074"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab997c51a14e5dfbf17b9847df5908074">com.verifone.commerce.payment.TransactionManager.processRefund</a></div><div class="ttdeci">Status processRefund(BigDecimal amount, String invoiceId, String currency)</div><div class="ttdoc">Please use processRefund(Payment) instead. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00721">TransactionManager.java:721</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aa08cba85b7931d885cd71080a3124b11"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa08cba85b7931d885cd71080a3124b11">com.verifone.commerce.payment.TransactionManager.updateTransaction</a></div><div class="ttdeci">boolean updateTransaction(Transaction transaction)</div><div class="ttdoc">Allows a transaction to be updated with new values, particularly helpful if the invoice or type needs...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00575">TransactionManager.java:575</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector_html_a4245287e2eee6876e77fc622168f728c"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a4245287e2eee6876e77fc622168f728c">com.verifone.commerce.payment.TransactionServiceConnector.tearDown</a></div><div class="ttdeci">static void tearDown(Context context)</div><div class="ttdoc">Unbinds from the service and cleans up any other references. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_service_connector_8java_source.html#l00226">TransactionServiceConnector.java:226</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a6b8ece7941816dc6418c585788b1ea5b"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6b8ece7941816dc6418c585788b1ea5b">com.verifone.commerce.payment.TransactionManager.requestUserInput</a></div><div class="ttdeci">Status requestUserInput(String inputType, String message, String defaultValue)</div><div class="ttdoc">Presents the user with a screen to collect information, specially formatting the keyboard and display...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00912">TransactionManager.java:912</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a2813a4d230915c16c4f91efefbe19d84"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2813a4d230915c16c4f91efefbe19d84">com.verifone.commerce.payment.TransactionManager.processRefund</a></div><div class="ttdeci">Status processRefund(Payment payment)</div><div class="ttdoc">Attempts to refund the specific payment. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00707">TransactionManager.java:707</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a1fe49e21ca3e776e6c394c3373e5c5b7"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a1fe49e21ca3e776e6c394c3373e5c5b7">com.verifone.commerce.payment.TransactionManager.LOGIN_CAPABILITY</a></div><div class="ttdeci">static final String LOGIN_CAPABILITY</div><div class="ttdoc">To be used with the isCapable(String) method, determining if the current implementation supports logi...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00052">TransactionManager.java:52</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aeb9dd80f48b0f5902ef8c71e57478aac"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aeb9dd80f48b0f5902ef8c71e57478aac">com.verifone.commerce.payment.TransactionManager.addGeneralListener</a></div><div class="ttdeci">boolean addGeneralListener(CommerceListener listener)</div><div class="ttdoc">Adds a listener for events that occur without an active session. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00331">TransactionManager.java:331</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html">com.verifone.commerce.payment.TransactionManager</a></div><div class="ttdoc">The service handle for performing transactions. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00044">TransactionManager.java:44</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_a91206c94b55f2836604a59016d1e5708"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a91206c94b55f2836604a59016d1e5708">com.verifone.commerce.entities.Transaction.setTransactionType</a></div><div class="ttdeci">void setTransactionType(String transactionType)</div><div class="ttdoc">Type of payment transaction the Payment Application is executing. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00366">Transaction.java:366</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a6ec3a2c607aceb98a5749b41fba96923"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a6ec3a2c607aceb98a5749b41fba96923">com.verifone.commerce.payment.TransactionManager.startSale</a></div><div class="ttdeci">Status startSale(BigDecimal amount, String invoiceId, String currency)</div><div class="ttdoc">Initiates a sale on the payment terminal, generating a new transaction without a basket and processin...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00642">TransactionManager.java:642</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment_html_a0ac4943c00e693e07e2c61b5a6dfa094"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_payment.html#a0ac4943c00e693e07e2c61b5a6dfa094">com.verifone.commerce.entities.Payment.setPaymentAmount</a></div><div class="ttdeci">void setPaymentAmount(BigDecimal paymentAmount)</div><div class="ttdoc">Amount the payment was approved for as a GAAP-standard BigDecimal. </div><div class="ttdef"><b>Definition:</b> <a href="_payment_8java_source.html#l00387">Payment.java:387</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector_html_a37e59c2492cc509f79237d58f37c64cd"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a37e59c2492cc509f79237d58f37c64cd">com.verifone.commerce.payment.TransactionServiceConnector.getTransactionBinder</a></div><div class="ttdeci">static ITransactionManager getTransactionBinder(Context context, Map deviceParams)</div><div class="ttdoc">Attempts to get the Transaction Manager binder for this client. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_service_connector_8java_source.html#l00105">TransactionServiceConnector.java:105</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_a6e56a5c3a88a355de52bc8afe8ad9f59"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#a6e56a5c3a88a355de52bc8afe8ad9f59">com.verifone.commerce.entities.Transaction.setInvoiceId</a></div><div class="ttdeci">void setInvoiceId(String invoiceId)</div><div class="ttdoc">The ID of the invoice. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00172">Transaction.java:172</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aebae16355e554063d865be4be1c62005"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aebae16355e554063d865be4be1c62005">com.verifone.commerce.payment.TransactionManager.requestCardToken</a></div><div class="ttdeci">Status requestCardToken()</div><div class="ttdoc">Asks the terminal to collect card information from the user and return a token for the information...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00932">TransactionManager.java:932</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ad7f026e79f9bc9278afcbe10e7e27954"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad7f026e79f9bc9278afcbe10e7e27954">com.verifone.commerce.payment.TransactionManager.startSession</a></div><div class="ttdeci">boolean startSession(ICommerceListener listener, Transaction transaction)</div><div class="ttdoc">Refer to startSession(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00438">TransactionManager.java:438</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_abb35543f0d44831da4c0a0762d3ecffa"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abb35543f0d44831da4c0a0762d3ecffa">com.verifone.commerce.payment.TransactionManager.presentUserOptions</a></div><div class="ttdeci">Status presentUserOptions(String header, String[] buttonLabels)</div><div class="ttdoc">Presents button options to the user and relaying the selected option back to the listener. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00889">TransactionManager.java:889</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ac1405e083bbaf0dde257ab1a385af020"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac1405e083bbaf0dde257ab1a385af020">com.verifone.commerce.payment.TransactionManager.DEVICE_PORT_KEY</a></div><div class="ttdeci">static final String DEVICE_PORT_KEY</div><div class="ttdoc">The device parameters key to set which port to use when connecting to the payment application on the ...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00074">TransactionManager.java:74</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ab804e0f66def63262c1d6b4e3d2a2bd7"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ab804e0f66def63262c1d6b4e3d2a2bd7">com.verifone.commerce.payment.TransactionManager.tearDown</a></div><div class="ttdeci">void tearDown()</div><div class="ttdoc">Cleans up any remaining sessions and unbinds from the service. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00222">TransactionManager.java:222</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_acab2aa3b4ab85bf3cd20fd40ff76c099"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acab2aa3b4ab85bf3cd20fd40ff76c099">com.verifone.commerce.payment.TransactionManager.getState</a></div><div class="ttdeci">Status getState()</div><div class="ttdoc">Immediately returns the current state of the communication between the Android device and the payment...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01005">TransactionManager.java:1005</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a343abf1b67c4a386c633367842efec5a"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a343abf1b67c4a386c633367842efec5a">com.verifone.commerce.payment.TransactionManager.getTransactionManager</a></div><div class="ttdeci">static TransactionManager getTransactionManager(Context context)</div><div class="ttdoc">Refer to getTransactionManager(Context, ServiceConnection, Map). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00184">TransactionManager.java:184</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ac5f9446be6b5c60305f6e9371030ea34"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ac5f9446be6b5c60305f6e9371030ea34">com.verifone.commerce.payment.TransactionManager.DEBUG_DELAY_IN_MS_KEY</a></div><div class="ttdeci">static final String DEBUG_DELAY_IN_MS_KEY</div><div class="ttdoc">The debug parameters key to set how long the service should arbitrarily delay the response...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00057">TransactionManager.java:57</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a12ad74d6c5a35496546bc7c1dc99520e"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a12ad74d6c5a35496546bc7c1dc99520e">com.verifone.commerce.payment.TransactionManager.DEVICE_PROTOCOL_SCI</a></div><div class="ttdeci">static final String DEVICE_PROTOCOL_SCI</div><div class="ttdoc">The protocol value when communicating using the general SCI protocol, without region-specific modific...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00099">TransactionManager.java:99</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a228eb48255b069a00ca6c56cf53e2b04"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a228eb48255b069a00ca6c56cf53e2b04">com.verifone.commerce.payment.TransactionManager.processVoid</a></div><div class="ttdeci">Status processVoid(Transaction transaction)</div><div class="ttdoc">Attempts to void the transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00686">TransactionManager.java:686</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_output_content_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_output_content.html">com.verifone.commerce.entities.OutputContent</a></div><div class="ttdoc">Allows displaying custom or predefined content to the customer or cashier. </div><div class="ttdef"><b>Definition:</b> <a href="_output_content_8java_source.html#l00018">OutputContent.java:18</a></div></div>
<div class="ttc" id="namespacecom_1_1verifone_1_1commerce_1_1payment_html"><div class="ttname"><a href="namespacecom_1_1verifone_1_1commerce_1_1payment.html">com.verifone.commerce.payment</a></div><div class="ttdoc">Contains all of the managers, events, and responses necessary for processing a payment, managing the basket, processing the receipt. </div><div class="ttdef"><b>Definition:</b> <a href="_amount_adjusted_event_8java_source.html#l00001">AmountAdjustedEvent.java:1</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a0b15dd62961d2a0a8da54e5e1b8fde23"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a0b15dd62961d2a0a8da54e5e1b8fde23">com.verifone.commerce.payment.TransactionManager.DEVICE_APPLICATION_CERTIFICATION_CODE_KEY</a></div><div class="ttdeci">static final String DEVICE_APPLICATION_CERTIFICATION_CODE_KEY</div><div class="ttdoc">Allows the calling Android application to provide a certification code, sometimes used for certificat...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00123">TransactionManager.java:123</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_stored_value_card_information_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_stored_value_card_information.html">com.verifone.commerce.entities.StoredValueCardInformation</a></div><div class="ttdoc">Represents the card information for use with gift cards or other stored value card types...</div><div class="ttdef"><b>Definition:</b> <a href="_stored_value_card_information_8java_source.html#l00027">StoredValueCardInformation.java:27</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_abf788891ed0365f38ebbdf18ce45bee0"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#abf788891ed0365f38ebbdf18ce45bee0">com.verifone.commerce.payment.TransactionManager.INPUT_TYPE_NUMBER</a></div><div class="ttdeci">static final String INPUT_TYPE_NUMBER</div><div class="ttdoc">This is input type const for requestUserInput(String, String, String) method. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00170">TransactionManager.java:170</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a5e6ed6f62883b4813616375ff3d549b9"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a5e6ed6f62883b4813616375ff3d549b9">com.verifone.commerce.payment.TransactionManager.STATE_SESSION_CLOSED</a></div><div class="ttdeci">static final String STATE_SESSION_CLOSED</div><div class="ttdoc">There is not a session active. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00135">TransactionManager.java:135</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a41dc9efc9f25291a0c02b6754218d802"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a41dc9efc9f25291a0c02b6754218d802">com.verifone.commerce.payment.TransactionManager.DEVICE_TRAINING_MODE_KEY</a></div><div class="ttdeci">static final String DEVICE_TRAINING_MODE_KEY</div><div class="ttdoc">The device parameters key to set training mode for the device (true or false). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00079">TransactionManager.java:79</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a2693165e3cda9b3b9b747a76b1f1b677"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2693165e3cda9b3b9b747a76b1f1b677">com.verifone.commerce.payment.TransactionManager.getReportManager</a></div><div class="ttdeci">ReportManager getReportManager()</div><div class="ttdoc">The method to get an appropriate concrete implementation of the Report Manager. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01163">TransactionManager.java:1163</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a54d324c3e794f7b4ce01854797689c3a"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a54d324c3e794f7b4ce01854797689c3a">com.verifone.commerce.payment.TransactionManager.STATE_PAYMENT_PROCESSING</a></div><div class="ttdeci">static final String STATE_PAYMENT_PROCESSING</div><div class="ttdoc">A payment is being processed, which may or may not require further interaction from the customer or c...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00144">TransactionManager.java:144</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a77647e950802e6910fd94fc44a92c85e"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a77647e950802e6910fd94fc44a92c85e">com.verifone.commerce.payment.TransactionManager.addSessionListener</a></div><div class="ttdeci">boolean addSessionListener(ICommerceListener listener)</div><div class="ttdoc">Refer to addSessionListener(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00472">TransactionManager.java:472</a></div></div>
<div class="ttc" id="namespacecom_1_1verifone_1_1commerce_1_1payment_1_1reports_html"><div class="ttname"><a href="namespacecom_1_1verifone_1_1commerce_1_1payment_1_1reports.html">com.verifone.commerce.payment.reports</a></div><div class="ttdef"><b>Definition:</b> <a href="_reconciliation_event_8java_source.html#l00001">ReconciliationEvent.java:1</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a82dcd889dd731f46e5650e89c755b24d"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a82dcd889dd731f46e5650e89c755b24d">com.verifone.commerce.payment.TransactionManager.STATE_LOGGED_IN</a></div><div class="ttdeci">static final String STATE_LOGGED_IN</div><div class="ttdoc">A login has been initiated and was accepted. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00133">TransactionManager.java:133</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ae2d173eefebe9a56ed584460e992b825"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae2d173eefebe9a56ed584460e992b825">com.verifone.commerce.payment.TransactionManager.DEVICE_APPLICATION_MANUFACTURER_ID_KEY</a></div><div class="ttdeci">static final String DEVICE_APPLICATION_MANUFACTURER_ID_KEY</div><div class="ttdoc">Allows the calling Android application to provide a manufacturer ID, sometimes used for certification...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00118">TransactionManager.java:118</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a62891d32e131c9b3709e05e326681cb6"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a62891d32e131c9b3709e05e326681cb6">com.verifone.commerce.payment.TransactionManager.STATE_NOT_LOGGED_IN</a></div><div class="ttdeci">static final String STATE_NOT_LOGGED_IN</div><div class="ttdoc">There is not currently a login session active, which may or may not be a problem. ...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00129">TransactionManager.java:129</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a97d7c909c719d257ee7a86b20d313dfc"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a97d7c909c719d257ee7a86b20d313dfc">com.verifone.commerce.payment.TransactionManager.INPUT_TYPE_DECIMAL</a></div><div class="ttdeci">static final String INPUT_TYPE_DECIMAL</div><div class="ttdoc">This is input type const for requestUserInput(String, String, String) method. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00174">TransactionManager.java:174</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a326925d44d85764223965247fd7933af"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a326925d44d85764223965247fd7933af">com.verifone.commerce.payment.TransactionManager.isCapable</a></div><div class="ttdeci">boolean isCapable(String capability)</div><div class="ttdoc">Checks if the current terminal implementation allows handling of a specific command, as listed in the constants above. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00240">TransactionManager.java:240</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a740d74e892884e0b61c469d7cf0da83d"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a740d74e892884e0b61c469d7cf0da83d">com.verifone.commerce.payment.TransactionManager.getTransactionManager</a></div><div class="ttdeci">static TransactionManager getTransactionManager(final Context context, final ServiceConnection altServiceConnection)</div><div class="ttdoc">Refer to getTransactionManager(Context, ServiceConnection, Map). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00189">TransactionManager.java:189</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_card_information_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_card_information.html">com.verifone.commerce.entities.CardInformation</a></div><div class="ttdoc">This represents the data that is shared between the terminal and the Android application. </div><div class="ttdef"><b>Definition:</b> <a href="_card_information_8java_source.html#l00029">CardInformation.java:29</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_af7da404e329d19afc78025bdab9f3916"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#af7da404e329d19afc78025bdab9f3916">com.verifone.commerce.entities.Transaction.setCurrency</a></div><div class="ttdeci">void setCurrency(String currency)</div><div class="ttdoc">The base currency for the transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00323">Transaction.java:323</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a770dd95a452120c8fe946ce986e18abd"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a770dd95a452120c8fe946ce986e18abd">com.verifone.commerce.payment.TransactionManager.setDebugParams</a></div><div class="ttdeci">void setDebugParams(Map debugParams)</div><div class="ttdoc">A map of recognized debug parameters. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01116">TransactionManager.java:1116</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aa45d660d9df9e128a8ff9806933cd9c1"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aa45d660d9df9e128a8ff9806933cd9c1">com.verifone.commerce.payment.TransactionManager.getStoredValueCardBalance</a></div><div class="ttdeci">Status getStoredValueCardBalance(StoredValueCardInformation cardInformation)</div><div class="ttdoc">Retrieves the current balance for a stored value card. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00816">TransactionManager.java:816</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction_html_ad6592a755815a8a349c49f0ef18714e5"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1entities_1_1_transaction.html#ad6592a755815a8a349c49f0ef18714e5">com.verifone.commerce.entities.Transaction.REFUND_TYPE</a></div><div class="ttdeci">static final String REFUND_TYPE</div><div class="ttdoc">A refund for a specific payment. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_8java_source.html#l00036">Transaction.java:36</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a2b300362bbe226c3bfe15f3175aafa11"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a2b300362bbe226c3bfe15f3175aafa11">com.verifone.commerce.payment.TransactionManager.startSession</a></div><div class="ttdeci">boolean startSession(CommerceListener listener, String userID, String password, int shiftNumber)</div><div class="ttdoc">Replaced by login(CommerceListener, String, String, String). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00259">TransactionManager.java:259</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a9153e502f1553a7895f50f62b75ac864"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a9153e502f1553a7895f50f62b75ac864">com.verifone.commerce.payment.TransactionManager.login</a></div><div class="ttdeci">Status login(@Nullable CommerceListener listener, @Nullable String userId, @Nullable String password, @Nullable String shiftNumber)</div><div class="ttdoc">Logs in through the payment terminal, possibly synchronizing information from the host to the termina...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00283">TransactionManager.java:283</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a13370ec5d230722c958f358bbfd126ab"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a13370ec5d230722c958f358bbfd126ab">com.verifone.commerce.payment.TransactionManager.DEVICE_APPLICATION_VERSION_KEY</a></div><div class="ttdeci">static final String DEVICE_APPLICATION_VERSION_KEY</div><div class="ttdoc">Allows the calling Android application to provide an application version, sometimes used for certific...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00113">TransactionManager.java:113</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1_status_html_aebb0e2b33c2ec4bdcc13aaaf1642326f"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1_status.html#aebb0e2b33c2ec4bdcc13aaaf1642326f">com.verifone.commerce.Status.getStatus</a></div><div class="ttdeci">int getStatus()</div><div class="ttdoc">Get the status for this particular event. </div><div class="ttdef"><b>Definition:</b> <a href="_status_8java_source.html#l00057">Status.java:57</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a03174858ab0ee50d909aba9025ff5325"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a03174858ab0ee50d909aba9025ff5325">com.verifone.commerce.payment.TransactionManager.startSession</a></div><div class="ttdeci">boolean startSession(CommerceListener listener)</div><div class="ttdoc">Starts a session, automatically generating a transaction associated with the session. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00389">TransactionManager.java:389</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a73199efc114d916e9d94ac80e7973b0e"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a73199efc114d916e9d94ac80e7973b0e">com.verifone.commerce.payment.TransactionManager.STATE_SESSION_OPEN</a></div><div class="ttdeci">static final String STATE_SESSION_OPEN</div><div class="ttdoc">A session is open, and may already have basket items or even payments processed. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00139">TransactionManager.java:139</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ae6cb4117dfd20d53d5b374cc817f39d7"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ae6cb4117dfd20d53d5b374cc817f39d7">com.verifone.commerce.payment.TransactionManager.sendInputResponse</a></div><div class="ttdeci">Status sendInputResponse(Bundle inputResponse)</div><div class="ttdoc">Returns the information requested from the terminal, such as updating configuration options or perfor...</div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00949">TransactionManager.java:949</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a90c6122fbbbd495e236ecf861087ee61"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a90c6122fbbbd495e236ecf861087ee61">com.verifone.commerce.payment.TransactionManager.INPUT_TYPE_EMAIL</a></div><div class="ttdeci">static final String INPUT_TYPE_EMAIL</div><div class="ttdoc">This is input type const for requestUserInput(String, String, String) method. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00166">TransactionManager.java:166</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_aef8ecb8e8ff8c0e33e0fa612340d77a7"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#aef8ecb8e8ff8c0e33e0fa612340d77a7">com.verifone.commerce.payment.TransactionManager.getTransactionManager</a></div><div class="ttdeci">static TransactionManager getTransactionManager(final Context context, final ServiceConnection altServiceConnection, final Map deviceParams)</div><div class="ttdoc">Creates a representation of the proxy to communicate with the Transaction Service. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00206">TransactionManager.java:206</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector_html_a120974aeb39510f2f75dcd1621b15249"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_service_connector.html#a120974aeb39510f2f75dcd1621b15249">com.verifone.commerce.payment.TransactionServiceConnector.attachServiceConnection</a></div><div class="ttdeci">static void attachServiceConnection(ServiceConnection altServiceConnection)</div><div class="ttdoc">Attaches an additional service connection object to be notified when events occur. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_service_connector_8java_source.html#l00212">TransactionServiceConnector.java:212</a></div></div>
<div class="ttc" id="namespacecom_1_1verifone_html"><div class="ttname"><a href="namespacecom_1_1verifone.html">com.verifone</a></div><div class="ttdoc">The root of the SDK, providing some constants and utility methods. </div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a294f9263599f2a655d8229797eb13f6e"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a294f9263599f2a655d8229797eb13f6e">com.verifone.commerce.payment.TransactionManager.startSession</a></div><div class="ttdeci">boolean startSession(CommerceListener listener, Transaction transaction)</div><div class="ttdoc">Refer to startSession(CommerceListener). </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00398">TransactionManager.java:398</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a74f20d5037f9e4105d18f6fda97b5694"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a74f20d5037f9e4105d18f6fda97b5694">com.verifone.commerce.payment.TransactionManager.sendPrintResponse</a></div><div class="ttdeci">Status sendPrintResponse(String result)</div><div class="ttdoc">Formerly returned the status when printing something on behalf of the terminal. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00987">TransactionManager.java:987</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event_html"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_event.html">com.verifone.commerce.payment.TransactionEvent</a></div><div class="ttdoc">The parent class for the events that may occur during a transaction. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_event_8java_source.html#l00026">TransactionEvent.java:26</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_acacb177400bd82bd3594ecde49ebafb1"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#acacb177400bd82bd3594ecde49ebafb1">com.verifone.commerce.payment.TransactionManager.DEVICE_PROTOCOL_IL</a></div><div class="ttdeci">static final String DEVICE_PROTOCOL_IL</div><div class="ttdoc">The protocol value for Israel. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00103">TransactionManager.java:103</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_a55014516bdb8b98db823b34e6f19ee09"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#a55014516bdb8b98db823b34e6f19ee09">com.verifone.commerce.payment.TransactionManager.cancelTransaction</a></div><div class="ttdeci">Status cancelTransaction()</div><div class="ttdoc">Cancels the current payment or other action, but does not reset the session. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l00667">TransactionManager.java:667</a></div></div>
<div class="ttc" id="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager_html_ad140bcbb58504ffceb6c94ccd35442ec"><div class="ttname"><a href="classcom_1_1verifone_1_1commerce_1_1payment_1_1_transaction_manager.html#ad140bcbb58504ffceb6c94ccd35442ec">com.verifone.commerce.payment.TransactionManager.setDeviceParams</a></div><div class="ttdeci">void setDeviceParams(Map deviceParams)</div><div class="ttdoc">A map of recognized device parameters. </div><div class="ttdef"><b>Definition:</b> <a href="_transaction_manager_8java_source.html#l01135">TransactionManager.java:1135</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div style="width: 100%;
	line-height: 140%;
	font: 400 14px/22px Roboto,sans-serif;
	color: black;">
<div style="font-size: 11px;
	background-image: url('tab_b.png');
	background-repeat: repeat-x;
	background-position: 0 -5px;
	height: 30px;
	line-height: 30px;
	color: #8AA0CC;
	border: solid 1px #C2CDE4;
	overflow: hidden;
	margin: 0px;
	padding: 0px;"></div>
<p style="font-size: 11px;
	line-height: 100%;
	color: #8AA0CC;
	border: solid 1px #C2CDE4;
	margin: 10px;
	padding: 10px;">
This document is the confidential property of Verifone, Inc. Any reproduction or distribution of this document, in whole or in part, or the disclosure of any of the information contained herein, without the prior written consent of Verifone, Inc. is prohibited. This document and any supplemental material supplied as part of any review must be returned to Verifone, Inc. upon request. Notice: This document may go through material revisions over time. While the Company will make every effort to keep readers updated as changes occur, care must be taken by the reader to make sure they are reading the latest version.  Version numbers appear in the title page and revision history page of this document. All rights reserved. Verifone, the Verifone logo are either trademarks or registered trademarks of Verifone in the United States and/or other countries. All other trademarks or brand names are properties of their respective holders.</p>
</div>